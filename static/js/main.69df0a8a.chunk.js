(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(n,e,t){"use strict";t.r(e);var r=t(1),o=(t(71),t(0)),c=t(25),a=t.n(c),i=t(13),s=t(14),u=t(6),l=t(3),d=t(2);function j(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: darkslategrey;\n"]);return j=function(){return n},n}function b(){var n=Object(l.a)(["\n  margin-top: 16px;\n  color: red;\n"]);return b=function(){return n},n}function p(){var n=Object(l.a)(["\n  font-size: 16px;\n  margin-top: 16px;\n"]);return p=function(){return n},n}function f(){var n=Object(l.a)([""]);return f=function(){return n},n}function x(){var n=Object(l.a)(["\n  color: rgba(23, 78 , 55, 0.3)\n  font-size: 14px;\n"]);return x=function(){return n},n}function h(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 6px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]);return h=function(){return n},n}function g(){var n=Object(l.a)(["\n  border: 1px solid black;\n  padding: 8px 16px;\n  border-radius: 8px;\n  & + & {\n    margin-top: 16px;\n  }\n"]);return g=function(){return n},n}function O(){var n=Object(l.a)(["\n  margin-top: 16px;\n"]);return O=function(){return n},n}function v(){var n=Object(l.a)(["\n  margin-top: 8px;\n"]);return v=function(){return n},n}function m(){var n=Object(l.a)(["\n  display: block;\n  width: 100%;\n"]);return m=function(){return n},n}function y(){var n=Object(l.a)(["\n  margin-top: 16px;\n"]);return y=function(){return n},n}function w(){var n=Object(l.a)(["\n  color: #333;\n"]);return w=function(){return n},n}function k(){var n=Object(l.a)(["\n  width: 300px;\n  margin: 0 auto;\n"]);return k=function(){return n},n}var C=d.a.div(k()),D=d.a.h1(w()),S=d.a.form(y()),A=d.a.textarea(m()),P=d.a.button(v()),N=d.a.div(O()),B=d.a.div(g()),T=d.a.div(h()),R=d.a.div(x()),I=d.a.div(f()),_=d.a.div(p()),z=d.a.div(b()),E=d.a.div(j());function U(n){var e=n.author,t=n.time,o=n.children;return Object(r.jsxs)(B,{children:[Object(r.jsxs)(T,{children:[Object(r.jsx)(R,{children:e}),Object(r.jsx)(I,{children:t})]}),Object(r.jsx)(_,{children:o})]})}var F=function(){console.log("render app");var n=Object(o.useState)(null),e=Object(u.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(null),i=Object(u.a)(a,2),s=i[0],l=i[1],d=Object(o.useState)(),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(o.useState)(null),x=Object(u.a)(f,2),h=x[0],g=x[1],O=Object(o.useState)(!1),v=Object(u.a)(O,2),m=v[0],y=v[1],w=function(){return console.log("start fetch!"),fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){c(n)})).catch((function(n){l(n.message)}))};return Object(o.useEffect)((function(){w()}),[]),Object(r.jsxs)(C,{children:[m&&Object(r.jsx)(E,{children:"Loading..."}),Object(r.jsx)(D,{children:"\u7559\u8a00\u677f"}),Object(r.jsxs)(S,{onSubmit:function(n){n.preventDefault(),m||(y(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"hello",body:b})}).then((function(n){return n.json()})).then((function(n){y(!1),0!==n.ok?(p(""),w()):g(n.message)})).catch((function(n){y(!1),g(n.message)})))},children:[Object(r.jsx)(A,{rows:10,value:b,onChange:function(n){p(n.target.value)},onFocus:function(){g(null)}}),Object(r.jsx)(P,{children:"\u9001\u51fa\u7559\u8a00"}),h&&Object(r.jsxs)(z,{children:["\u65b0\u589e\u7559\u8a00\u5931\u6557: ",h]})]}),s&&Object(r.jsxs)(z,{children:["Something went wrong: ",s.toString()]}),t&&0===t.length&&Object(r.jsx)("div",{children:"No Message yet!"}),Object(r.jsx)(N,{children:t&&t.map((function(n){return Object(r.jsx)(U,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})},L=(t(76),t(125)),G=t(126),M=t(61),$=t(124);function J(){var n=Object(l.a)([""]);return J=function(){return n},n}function V(){var n=Object(l.a)(["\n  margin-right: 16px;\n  word-break: break-word;\n  padding: 6px;\n  border: none;\n  font-size: 26px;\n  flex: 1;\n  outline: 1px solid grey;\n  box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n  ","\n"]);return V=function(){return n},n}function H(){var n=Object(l.a)(["\n  margin-right: 16px;\n  word-break: break-word;\n  padding: 6px;\n  border: none;\n  font-size: 26px;\n  flex: 1;\n  ","\n"]);return H=function(){return n},n}function K(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 16px;\n  border: 1px solid black;\n\n  & + & {\n    margin-top: 12px;\n  }\n"]);return K=function(){return n},n}var X=d.a.div(K()),Y=d.a.div(H(),(function(n){return n.$isDone&&"text-decoration: line-through;"})),Z=d.a.input(V(),(function(n){return n.$isDone&&"text-decoration: line-through;"})),q=d.a.div(J()),W=function(n){var e=n.className,t=n.todo,o=n.handleDeleteTodo,c=n.handleToggleIsDone,a=n.updatingTodo,i=n.setUpdatingTodo,s=n.handleUpdateClick,u=n.updateValue,l=n.handleUpdateChange,d=n.editingInput;return Object(r.jsxs)(X,{className:e,"data-todo-id":t.id,children:[a&&Number(a.id)===t.id?Object(r.jsx)(Z,{$isDone:t.isDone,onDoubleClick:s,"data-todo-id":t.id,value:u,onChange:l,onBlur:function(){i(!1)},ref:d}):Object(r.jsx)(Y,{$isDone:t.isDone,onDoubleClick:s,"data-todo-id":t.id,children:t.content}),Object(r.jsxs)(q,{children:[Object(r.jsx)($.a,{onClick:function(){c(t.id)},variant:t.isDone?"secondary":"success",children:t.isDone?"\u672a\u5b8c\u6210":"\u5df2\u5b8c\u6210"})," ",Object(r.jsx)($.a,{variant:"danger",onClick:function(){o(t.id)},children:"\u522a\u9664"})]})]})},Q=Object(o.memo)((function(n){var e=n.todos,t=n.todosFilter,c=n.setTodosFilter,a=n.handleClearDoneTodos,i=Object(o.useMemo)((function(){console.log("calculating!");var n=0;return e.forEach((function(e){e.isDone||(n+=1)})),n}),[e]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"d-flex justify-content-between my-3 px-3",children:[Object(r.jsxs)("h3",{children:[Object(r.jsx)("span",{children:i})," \u500b\u672a\u5b8c\u6210"]}),Object(r.jsxs)("div",{className:"options",children:[Object(r.jsx)($.a,{variant:"info",onClick:function(){c(null)},className:null===t&&"active",children:"All"})," ",Object(r.jsx)($.a,{variant:"info",onClick:function(){c("active")},className:"active"===t&&"active",children:"Active"})," ",Object(r.jsx)($.a,{variant:"info",onClick:function(){c("completed")},className:"completed"===t&&"active",children:"Completed"})," "]}),Object(r.jsx)($.a,{variant:"warning",onClick:a,children:"Clear completed"})]})})})),nn=t(18),en=t(67);function tn(){var n=function(){var n=Object(o.useState)(""),e=Object(u.a)(n,2),t=e[0],r=e[1];return{value:t,setValue:r,handleInputChange:function(n){r(n.target.value)}}}(),e=n.value,t=n.setValue,r=n.handleInputChange,c=Object(o.useRef)(1),a=Object(o.useState)((function(){console.log("todos init");var n=window.localStorage.getItem("todos");return n?(n=JSON.parse(n),c.current=n[0].id+1):n=[],n})),i=Object(u.a)(a,2),s=i[0],l=i[1];console.log(s);var d=Object(o.useState)(null),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(o.useState)(null),x=Object(u.a)(f,2),h=x[0],g=x[1],O=Object(o.useState)(null),v=Object(u.a)(O,2),m=v[0],y=v[1],w=Object(o.useRef)(null);Object(o.useEffect)((function(){!function(n){window.localStorage.setItem("todos",0===n.length?[]:JSON.stringify(n))}(s),console.log("useEffect: todos",JSON.stringify(s))}),[s]),Object(o.useEffect)((function(){h&&w.current.focus()}),[h]);var k=Object(o.useCallback)((function(){l([{id:c.current,content:e,isDone:!1}].concat(Object(en.a)(s))),t(""),c.current++}),[t,s,e]),C=Object(o.useCallback)((function(){l(s.filter((function(n){return!n.isDone})))}),[s]);return{todos:s,setTodos:l,id:c,handleButtonAddTodo:k,handleDeleteTodo:function(n){l(s.filter((function(e){return e.id!==n})))},handleToggleIsDone:function(n){l(s.map((function(e){return e.id!==n?e:Object(nn.a)(Object(nn.a)({},e),{},{isDone:!e.isDone})})))},handleUpdateClick:function(n){y(n.target.innerText),g({id:n.target.getAttribute("data-todo-id")})},updatingTodo:h,setUpdatingTodo:g,updateValue:m,handleUpdateChange:function(n){y(n.target.value),l(s.map((function(e){return e.id!==Number(n.target.getAttribute("data-todo-id"))?e:Object(nn.a)(Object(nn.a)({},e),{},{content:n.target.value})})))},value:e,handleInputChange:r,todosFilter:b,setTodosFilter:p,handleClearDoneTodos:C,editingInput:w}}function rn(){var n=Object(l.a)(["\n  color: orange;\n  text-align: center;\n  font-size: 60px;\n  font-weight: bold;\n  padding: 20px;\n  margin-bottom: 10px;\n"]);return rn=function(){return n},n}function on(){var n=Object(l.a)(["\n  border-radius: 8px;\n  padding: 16px;\n  background: white;\n"]);return on=function(){return n},n}var cn=d.a.div(on()),an=Object(o.memo)(d.a.div(rn()));var sn=function(){var n=tn(),e=n.todos,t=n.handleButtonAddTodo,o=n.handleDeleteTodo,c=n.handleToggleIsDone,a=n.handleUpdateClick,i=n.updatingTodo,s=n.setUpdatingTodo,u=n.updateValue,l=n.handleUpdateChange,d=n.value,j=n.handleInputChange,b=n.todosFilter,p=n.setTodosFilter,f=n.handleClearDoneTodos,x=n.editingInput;return console.log("todos",e),Object(r.jsx)(L.a,{className:"my-5",children:Object(r.jsxs)(cn,{children:[Object(r.jsx)(an,{children:"Todo List"}),Object(r.jsxs)(G.a,{className:"mb-3",children:[Object(r.jsx)(M.a,{placeholder:"\u8acb\u8f38\u5165\u5f85\u8fa6\u4e8b\u9805",value:d,onChange:j}),Object(r.jsx)(G.a.Append,{children:Object(r.jsx)($.a,{onClick:t,children:"\u9001\u51fa"})})]}),Object(r.jsx)(Q,{todos:e,todosFilter:b,setTodosFilter:p,handleClearDoneTodos:f}),e.map((function(n){return"active"===b&&n.isDone?"":"completed"!==b||n.isDone?Object(r.jsx)(W,{todo:n,handleDeleteTodo:o,handleToggleIsDone:c,handleUpdateClick:a,updatingTodo:i,setUpdatingTodo:s,updateValue:u,handleUpdateChange:l,editingInput:x},n.id):""}))]})})},un=(t(80),19),ln=Array(un).fill(Array(un).fill(null)),dn=Array.from({length:un}),jn=Array.from({length:un}),bn=Array.from({length:18}),pn=Array.from({length:18}),fn=function(n){var e=n.handleClickPlacing,t=n.X,o=n.Y,c=n.stone,a="";return c&&(a="B"===c?"radial-gradient(5px 5px at 5px 5px,#fff,#333)":"radial-gradient(5px 5px at 5px 5px,#fff,#e2e2e2)"),Object(r.jsx)("div",{className:"stone",onClick:function(){e(t,o)},style:{background:a,boxShadow:null!==c?"2px 2px 4px rgba(0,0,0,0.3)":""}})},xn=Object(o.memo)((function(){return Object(r.jsx)("div",{className:"squares-background-wrapper",children:pn.map((function(n,e){return Object(r.jsx)("div",{className:"squares-columns",children:bn.map((function(n,e){return Object(r.jsx)("div",{className:"square-background"},e)}))},e)}))})})),hn=function(n){var e=n.handleClickPlacing,t=n.board;return Object(r.jsxs)("div",{className:"stones-wrapper",children:[jn.map((function(n,o){return Object(r.jsx)("div",{className:"stone-columns",children:dn.map((function(n,c){return Object(r.jsx)(fn,{X:o,Y:c,handleClickPlacing:e,stone:t[c][o]},c)}))},o)})),Object(r.jsx)(xn,{})]})},gn=t(131),On=function(n){var e=n.history,t=n.setHistory,o=n.setBoard,c=n.nowStep,a=Array.from({length:e.length-1});return Object(r.jsxs)(gn.a,{children:[Object(r.jsx)(gn.a.Item,{onClick:function(){t([ln])},children:"Restart"}),c.current>0&&Object(r.jsx)(gn.a.Prev,{onClick:function(){!function(){c.current--;var n=e[c.current];o(n)}()}}),c.current>0&&a.map((function(n,t){return Object(r.jsx)(gn.a.Item,{onClick:function(){!function(n){c.current=n;var t=e[n];o(t)}(t+1)},active:t+1===c.current?"true":null,children:t+1},t)}))]})};function vn(n,e,t,r,o){var c=o[e][n],a=n,i=e,s=0;do{if(i+=r,!((a+=t)<=18&&a>=0&&i>=0&&i<=18))break;if(o[i][a]!==c)break;console.log("tempY",i),console.log("tempX",a),console.log(o[i][a]),s++}while(s<5);return s}function mn(){var n=Object(o.useState)(ln),e=Object(u.a)(n,2),t=e[0],r=e[1],c=Object(o.useState)([ln]),a=Object(u.a)(c,2),i=a[0],s=a[1],l=Object(o.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(o.useState)(!0),f=Object(u.a)(p,2),x=f[0],h=f[1],g=Object(o.useRef)(0),O=Object(o.useRef)(null);Object(o.useLayoutEffect)((function(){h(g.current%2===0)}),[t]),Object(o.useLayoutEffect)((function(){if(g.current>=9&&g.current===i.length-1){var n=function(n,e){var t=n.X,r=n.Y,o=e[r][t];return vn(t,r,1,0,e)+vn(t,r,-1,0,e)>=4||vn(t,r,0,1,e)+vn(t,r,0,-1,e)>=4||vn(t,r,1,1,e)+vn(t,r,-1,-1,e)>=4||vn(t,r,1,-1,e)+vn(t,r,-1,1,e)>=4?o:null}(O.current,t);b(null!==n&&("B"===n?"\u9ed1\u8272":"\u767d\u8272"))}else b(!1)}),[O,t,i.length]),Object(o.useLayoutEffect)((function(){1===i.length&&(r(ln),b(null),g.current=0)}),[i]);return{nowStep:g,isGameOver:j,blackIsNext:x,setBlackIsNext:h,board:t,setBoard:r,history:i,setHistory:s,handleClickPlacing:function(n,e){if(!t[e][n]&&!j){g.current++;var o=JSON.parse(JSON.stringify(t));o[e][n]=x?"B":"W",r(o);var c=i.slice(0,g.current);c.push(o),s(c),O.current={X:n,Y:e}}}}}var yn=function(){var n=mn(),e=n.nowStep,t=n.isGameOver,o=n.blackIsNext,c=n.board,a=n.setBoard,i=n.history,s=n.setHistory,u=n.handleClickPlacing;return Object(r.jsxs)("div",{className:"game",children:[Object(r.jsxs)("div",{className:"game-status",style:{color:t?"red":""},children:[!t&&(o?"\u4e0b\u4e00\u6b65\u8f2a\u5230\uff1a\u9ed1\u8272":"\u4e0b\u4e00\u6b65\u8f2a\u5230\uff1a\u767d\u8272"),t&&t+"\u8d0f\u4e86\uff0c\u904a\u6232\u7d50\u675f!"]}),Object(r.jsx)("div",{className:"game-board",children:Object(r.jsx)(hn,{handleClickPlacing:u,board:c})}),i.length>=1&&Object(r.jsx)(On,{history:i,setHistory:s,setBoard:a,blackIsNext:o,nowStep:e})]})},wn=(t(81),t(28));function kn(n,e){switch(n){case"title":return e?/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/.test(e)?"":"\u9650\u4f7f\u7528\u4e2d\u6587/\u82f1\u6587/\u6578\u5b57/\u5e95\u7dda":"\u8acb\u8f38\u5165\u66b1\u7a31";case"email":return e?/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/.test(e)?"":"\u96fb\u5b50\u90f5\u4ef6\u683c\u5f0f\u932f\u8aa4":"\u8acb\u8f38\u5165\u96fb\u5b50\u90f5\u4ef6";case"phone":return e?/^09\d{8}$/.test(e)?"":"\u624b\u6a5f\u865f\u78bc\u683c\u5f0f\u932f\u8aa4":"\u8acb\u8f38\u5165\u624b\u6a5f\u865f\u78bc";case"option":return e?"":"\u8acb\u52fe\u9078\u5831\u540d\u985e\u578b";case"howToKnow":return e?/^[\u4e00-\u9fa5a-zA-Z]+$/.test(e)?"":"\u9650\u4f7f\u7528\u4e2d\u6587/\u82f1\u6587":"\u8acb\u52ff\u7559\u7a7a";default:return""}}function Cn(){var n=Object(o.useState)(function(n){var e=window.localStorage.getItem(n);return e?JSON.parse(e):{title:"",email:"",phone:"",option:"",howToKnow:"",suggest:""}}("inputValue")),e=Object(u.a)(n,2),t=e[0],r=e[1],c=Object(o.useState)({}),a=Object(u.a)(c,2),i=a[0],s=a[1];Object(o.useLayoutEffect)((function(){var n=function(n){""!==t[n]&&s((function(e){return Object(nn.a)(Object(nn.a)({},e),{},Object(wn.a)({},n,kn(n,t[n])))}))};for(var e in t)n(e)}),[]);return{inputValue:t,setInputValue:r,handleInputChange:function(n){var e=n.target,o=e.value,c=e.name;r(Object(nn.a)(Object(nn.a)({},t),{},Object(wn.a)({},c,o))),s(Object(nn.a)(Object(nn.a)({},i),{},Object(wn.a)({},c,kn(c,o))))},inputErrorMessage:i,setInputErrorMessage:s}}var Dn=function(){var n=function(){var n=Cn(),e=n.inputValue,t=n.setInputValue,r=n.handleInputChange,o=n.inputErrorMessage,c=n.setInputErrorMessage;return{inputValue:e,setInputValue:t,handleInputChange:r,inputErrorMessage:o,handleClickButtonSave:function(){localStorage.setItem("inputValue",JSON.stringify(e))},handleFormSubmit:function(n){n.preventDefault();var t=!1,r=function(n){""===e[n]&&"suggest"!==n&&(t=!0),"options"===n&&""===e[n]&&c((function(t){return Object(nn.a)(Object(nn.a)({},t),{},Object(wn.a)({},n,kn(n,e[n])))})),c((function(t){return Object(nn.a)(Object(nn.a)({},t),{},Object(wn.a)({},n,kn(n,e[n])))}))};for(var a in e)r(a);if(t)alert("\u8cc7\u6599\u8f38\u5165\u4e0d\u5b8c\u5168");else{for(var i in o)if(""!==o[i])return void alert("\u8cc7\u6599\u8f38\u5165\u4e0d\u5b8c\u5168");alert(" \n      \u4ee5\u4e0b\u70ba\u60a8\u6240\u586b\u5beb\u7684\u8cc7\u6599\uff1a\n      \u60a8\u7684\u66b1\u7a31\uff1a".concat(e.title,"\n      \u60a8\u7684\u96fb\u5b50\u90f5\u4ef6\uff1a").concat(e.email,"\n      \u60a8\u7684\u624b\u6a5f\u865f\u78bc\uff1a").concat(e.phone,"\n      \u60a8\u7684\u5831\u540d\u985e\u578b\uff1a").concat(e.option,"\n      \u60a8\u600e\u9ebc\u77e5\u9053\u9019\u500b\u6d3b\u52d5\u7684\uff1a").concat(e.howToKnow,"\n      \u5176\u4ed6\uff1a").concat(e.suggest,"\n    "))}}}}(),e=n.inputValue,t=n.handleInputChange,o=n.inputErrorMessage,c=n.handleClickButtonSave,a=n.handleFormSubmit;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"form__wrapper",children:Object(r.jsxs)("form",{onSubmit:a,children:[Object(r.jsx)("div",{className:"form__title",children:"\u65b0\u62d6\u5ef6\u904b\u52d5\u5831\u540d\u8868\u55ae"}),Object(r.jsxs)("div",{className:"form__info",children:[Object(r.jsx)("p",{children:"\u6d3b\u52d5\u65e5\u671f\uff1a2020/12/10 ~ 2020/12/11"}),Object(r.jsx)("p",{children:"\u6d3b\u52d5\u5730\u9ede\uff1a\u53f0\u5317\u5e02\u5927\u5b89\u5340\u65b0\u751f\u5357\u8def\u4e8c\u6bb51\u865f"})]}),Object(r.jsx)("div",{className:"form__notice",children:"*\u5fc5\u586b"}),Object(r.jsxs)("div",{className:"input-block",children:[Object(r.jsx)("div",{className:"input-block__title",children:"\u66b1\u7a31"}),Object(r.jsx)("input",{onChange:t,value:e.title,className:"placebar",name:"title",placeholder:"\u60a8\u7684\u56de\u7b54",type:"text"}),Object(r.jsx)("div",{className:"input-block__error",value:"\u8acb\u8f38\u5165\u66b1\u7a31!",children:o.title&&o.title})]}),Object(r.jsxs)("div",{className:"input-block",children:[Object(r.jsx)("div",{className:"input-block__title",children:"\u96fb\u5b50\u90f5\u4ef6"}),Object(r.jsx)("input",{onChange:t,value:e.email,className:"placebar",name:"email",placeholder:"\u60a8\u7684\u96fb\u5b50\u90f5\u4ef6",type:"text"}),Object(r.jsx)("div",{className:"input-block__error",value:"\u8acb\u8f38\u5165\u96fb\u5b50\u90f5\u4ef6!",children:o.email&&o.email})]}),Object(r.jsxs)("div",{className:"input-block",children:[Object(r.jsx)("div",{className:"input-block__title",children:"\u624b\u6a5f\u865f\u78bc"}),Object(r.jsx)("input",{onChange:t,value:e.phone,className:"placebar",name:"phone",placeholder:"\u60a8\u7684\u624b\u6a5f\u865f\u78bc",type:"text"}),Object(r.jsx)("div",{className:"input-block__error",value:"\u8acb\u8f38\u5165\u624b\u6a5f\u865f\u78bc!",children:o.phone&&o.phone})]}),Object(r.jsxs)("div",{className:"input-block",children:[Object(r.jsx)("div",{className:"input-block__title",children:"\u5831\u540d\u985e\u578b"}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{onChange:t,type:"radio",name:"option",value:"\u8eba\u5728\u5e8a\u4e0a\u7528\u60f3\u50cf\u529b\u5be6\u4f5c",checked:"\u8eba\u5728\u5e8a\u4e0a\u7528\u60f3\u50cf\u529b\u5be6\u4f5c"===e.option}),"\u8eba\u5728\u5e8a\u4e0a\u7528\u60f3\u50cf\u529b\u5be6\u4f5c"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{onChange:t,type:"radio",name:"option",value:"\u8db4\u5728\u5730\u4e0a\u6ed1\u624b\u6a5f\u627e\u73fe\u6210\u7684",checked:"\u8db4\u5728\u5730\u4e0a\u6ed1\u624b\u6a5f\u627e\u73fe\u6210\u7684"===e.option}),"\u8db4\u5728\u5730\u4e0a\u6ed1\u624b\u6a5f\u627e\u73fe\u6210\u7684"]})]}),Object(r.jsx)("div",{className:"input-block__error",value:"\u8acb\u9078\u64c7\u5831\u540d\u985e\u578b!",children:o.option&&o.option})]}),Object(r.jsxs)("div",{className:"input-block",children:[Object(r.jsx)("div",{className:"input-block__title",children:"\u600e\u9ebc\u77e5\u9053\u9019\u500b\u6d3b\u52d5\u7684\uff1f"}),Object(r.jsx)("input",{onChange:t,value:e.howToKnow,className:"placebar",placeholder:"\u60a8\u7684\u56de\u7b54",name:"howToKnow",type:"text"}),Object(r.jsx)("div",{className:"input-block__error answer__check",value:"\u8acb\u52ff\u7559\u7a7a!",children:o.howToKnow&&o.howToKnow})]}),Object(r.jsxs)("div",{className:"input-block",children:[Object(r.jsx)("div",{className:"input-block__title",children:"\u5176\u4ed6"}),Object(r.jsx)("div",{className:"input-block__desc",children:"\u5c0d\u6d3b\u52d5\u7684\u4e00\u4e9b\u5efa\u8b70"}),Object(r.jsx)("input",{onChange:t,value:e.suggest,className:"placebar",placeholder:"\u60a8\u7684\u56de\u7b54",name:"suggest",type:"text"})]}),Object(r.jsxs)("div",{className:"buttons__block",children:[Object(r.jsx)("button",{onClick:c,type:"button",className:"buttons__block-save",children:"\u66ab\u5b58"}),Object(r.jsx)("button",{className:"buttons__block-summit",children:"\u9001\u51fa"})]}),Object(r.jsx)("div",{className:"form__info",children:"\u8acb\u52ff\u900f\u904e\u8868\u55ae\u9001\u51fa\u60a8\u7684\u5bc6\u78bc\u3002"})]})}),Object(r.jsx)("div",{className:"footer",children:"\xa9 2020 \xa9 Copyright. All rights Reserved."})]})},Sn=(t(82),Object(o.createContext)(null)),An="token",Pn=function(n){localStorage.setItem(An,n)},Nn=function(){return localStorage.getItem(An)},Bn="@media screen and (min-width: 375px)",Tn="@media screen and (min-width: 425px)",Rn="@media screen and (min-width: 768px)";function In(){var n=Object(l.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  font-weight: bold;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  ","\n  "," {\n    width: 100%;\n    & + & {\n      margin-top: 6px;\n    }\n  }\n  "," {\n    padding: 5px 10px;\n    width: auto;\n    & + & {\n      margin-top: 0px;\n      margin-left: 6px;\n    }\n  }\n  "," {\n    font-size: 24px;\n  }\n"]);return In=function(){return n},n}function _n(){var n=Object(l.a)(["\n  display: flex;\n  "," {\n    font-size: 24px;\n    flex-direction: column;\n    align-items: center;\n    & + & {\n      margin-top: 6px;\n    }\n  }\n  "," {\n    font-size: 18px;\n    flex-direction: row;\n    & + & {\n      margin-top: 0px;\n    }\n  }\n"]);return _n=function(){return n},n}function zn(){var n=Object(l.a)(["\n  "," {\n    width: 100%;\n    & + & {\n      margin-top: 6px;\n    }\n  }\n  "," {\n    margin: auto 10px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return zn=function(){return n},n}function En(){var n=Object(l.a)(["\n  font-weight: bold;\n  margin: 10px auto;\n  "," {\n    font-size: 50px;\n  }\n  "," {\n    width: 150px;\n    font-size: 24px;\n    margin: auto 10px;\n  }\n  "," {\n    width: 350px;\n    font-size: 40px;\n  }\n"]);return En=function(){return n},n}function Un(){var n=Object(l.a)(["\n  text-align: center;\n  background: floralwhite;\n  display: flex;\n  position: sticky;\n  z-index: 1;\n  top: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 10px 20px;\n  "," {\n    flex-direction: column;\n  }\n  "," {\n    flex-direction: row;\n    padding: 10px;\n  }\n"]);return Un=function(){return n},n}var Fn=d.a.div(Un(),Bn,Tn),Ln=d.a.div(En(),Bn,Tn,Rn),Gn=d.a.div(zn(),Bn,Tn),Mn=d.a.div(_n(),Bn,Tn),$n=Object(d.a)(i.b)(In(),(function(n){return n.$active&&"\n    background: rgba(0, 0, 0, 0.1);\n  "}),Bn,Tn,Rn);function Jn(){console.log("render header");var n=Object(s.g)().pathname;console.log("pathname",n);var e=Object(o.useContext)(Sn),t=e.user,c=e.setUser;console.log("now user is",t);return Object(r.jsxs)(Fn,{children:[Object(r.jsx)(Ln,{children:"My Blog"}),Object(r.jsxs)(Gn,{children:[Object(r.jsxs)(Mn,{children:[Object(r.jsx)($n,{$active:"/BlogApp"===n,to:"/BlogApp",children:"\u9996\u9801"}),Object(r.jsx)($n,{$active:"/BlogApp/About"===n,to:"/BlogApp/About",children:"\u95dc\u65bc\u6211"}),Object(r.jsx)($n,{$active:n.includes("/BlogApp/pagination"),to:"/BlogApp/pagination/1",children:"\u6587\u7ae0\u5206\u9801"}),t&&Object(r.jsx)($n,{$active:"/BlogApp/new-post"===n,to:"/BlogApp/new-post",children:"\u767c\u5e03\u6587\u7ae0"})]}),Object(r.jsxs)(Mn,{children:[!1===t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($n,{$active:"/BlogApp/register"===n,to:"/BlogApp/register",children:"\u8a3b\u518a"}),Object(r.jsx)($n,{$active:"/BlogApp/login"===n,to:"/BlogApp/login",children:"\u767b\u5165"})]}),t&&Object(r.jsx)($n,{onClick:function(){Pn(""),c(!1),console.log("pathname",n)},to:"/BlogApp",children:"\u767b\u51fa"})]})]})]})}var Vn="https://student-json-api.lidemy.me",Hn=function(){var n=Nn();return fetch("".concat(Vn,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))};function Kn(){var n=Object(l.a)(["\n  color: rgba(0, 0, 0, 0.8);\n  text-align: right;\n  "," {\n    margin-top: 16px;\n  }\n  "," {\n    margin-top: 0px;\n  }\n"]);return Kn=function(){return n},n}function Xn(){var n=Object(l.a)(["\n  color: #333;\n  text-decoration: none;\n  font-size: 24px;\n  max-width: 360px;\n  overflow-wrap: break-word;\n"]);return Xn=function(){return n},n}function Yn(){var n=Object(l.a)(["\n  border: solid 2px sandybrown;\n  border-radius: 8px;\n  border-bottom: 1px solid rgba(0, 12, 34, 0, 2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  "," {\n    margin: 10px auto;\n    flex-direction: column;\n  }\n  "," {\n    flex-direction: row;\n  }\n"]);return Yn=function(){return n},n}function Zn(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n"]);return Zn=function(){return n},n}var qn=d.a.div(Zn()),Wn=d.a.div(Yn(),Bn,Rn),Qn=Object(d.a)(i.b)(Xn()),ne=d.a.div(Kn(),Bn,Rn);function ee(n){var e=n.post;return Object(r.jsxs)(Wn,{children:[Object(r.jsx)(Qn,{to:"/BlogApp/posts/".concat(e.id),children:e.title}),Object(r.jsx)(ne,{children:new Date(e.createdAt).toLocaleString()})]})}function te(){console.log("render HomePage");var n=Object(o.useState)(null),e=Object(u.a)(n,2),t=e[0],c=e[1];return Object(o.useEffect)((function(){console.log("useEffect just init to setPosts"),fetch("".concat(Vn,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(n){return c(n)}))}),[]),Object(r.jsx)(qn,{children:t&&t.map((function(n){return Object(r.jsx)(ee,{post:n},n.id)}))})}var re=Object(o.memo)(te),oe=t(129),ce=t(127),ae=t(62);function ie(){var n=Object(l.a)(["\n  color: red;\n"]);return ie=function(){return n},n}function se(){var n=Object(l.a)(["\n  text-align: center;\n  margin: 100px auto;\n  background: white;\n  opacity: 0.8;\n  max-width: 500px;\n  border-radius: 10px;\n  padding: 50px 20px;\n"]);return se=function(){return n},n}var ue=d.a.div(se()),le=d.a.div(ie());function de(){console.log("render loginPage");var n=Object(o.useState)(""),e=Object(u.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(""),i=Object(u.a)(a,2),l=i[0],d=i[1],j=Object(o.useState)(),b=Object(u.a)(j,2),p=b[0],f=b[1],x=Object(s.f)(),h=Object(o.useContext)(Sn).setUser,g=function(){f(null)};return Object(r.jsx)(ue,{children:Object(r.jsxs)(oe.a,{onSubmit:function(n){n.preventDefault(),function(n,e){return fetch("".concat(Vn,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))}(t,l).then((function(n){return 0===n.ok?f(n.message):(Pn(n.token),Hn().then((function(n){return 1!==n.ok?(Pn(null),f(n.message)):(h(n.data),x.push("/BlogApp"))})),!0)}))},children:[Object(r.jsxs)(oe.a.Group,{controlId:"formBasicUsername",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Username"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"username",placeholder:"Enter username",value:t,onChange:function(n){return c(n.target.value)},onFocus:g})})]}),Object(r.jsxs)(oe.a.Group,{controlId:"formBasicPassword",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Password"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"password",placeholder:"Password",value:l,onChange:function(n){return d(n.target.value)},onFocus:g})})]}),Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u767b\u5165"}),p&&Object(r.jsx)(le,{children:p})]})})}function je(){var n=Object(l.a)(["\n  color: red;\n  font-weight: bold;\n  font-size: 36px;\n  text-align: center;\n  margin-top: 1rem;\n"]);return je=function(){return n},n}function be(){var n=Object(l.a)(["\n  text-align: center;\n  margin: 100px auto;\n  background: white;\n  opacity: 0.8;\n  max-width: 500px;\n  border-radius: 10px;\n  padding: 50px 20px;\n"]);return be=function(){return n},n}var pe=d.a.div(be()),fe=d.a.div(je());function xe(){console.log("render RegisterPage");var n=Object(o.useState)(""),e=Object(u.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(""),i=Object(u.a)(a,2),l=i[0],d=i[1],j=Object(o.useState)(""),b=Object(u.a)(j,2),p=b[0],f=b[1],x=Object(o.useState)(),h=Object(u.a)(x,2),g=h[0],O=h[1],v=Object(s.f)(),m=Object(o.useContext)(Sn).setUser,y=function(){O(null)};return Object(r.jsx)(pe,{children:Object(r.jsxs)(oe.a,{onSubmit:function(n){n.preventDefault(),function(n,e,t){return fetch("".concat(Vn,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:e,password:t})}).then((function(n){return n.json()}))}(t,l,p).then((function(n){return 0===n.ok?O(n.message):(Pn(n.token),Hn().then((function(n){return 1!==n.ok?(Pn(null),O(n.message)):(m(n.data),v.push("/BlogApp"))})),!0)}))},children:[Object(r.jsxs)(oe.a.Group,{controlId:"formBasicNickname",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Nickname"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"nickname",placeholder:"Enter nickname",value:t,onChange:function(n){return c(n.target.value)},onFocus:y})})]}),Object(r.jsxs)(oe.a.Group,{controlId:"formBasicUsername",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Username"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"username",placeholder:"Enter username",value:l,onChange:function(n){return d(n.target.value)},onFocus:y})})]}),Object(r.jsxs)(oe.a.Group,{controlId:"formBasicPassword",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Password"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"password",placeholder:"Password",value:p,onChange:function(n){return f(n.target.value)},onFocus:y})})]}),Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u8a3b\u518a"}),g&&Object(r.jsx)(fe,{children:g})]})})}function he(){var n=Object(l.a)(["\n  margin: 16px auto;\n  border: 1px solid black;\n  padding: 16px;\n  border-radius: 8px;\n"]);return he=function(){return n},n}function ge(){var n=Object(l.a)(["\n  color: rgba(0, 0, 0, 0.5);\n  text-align: end;\n"]);return ge=function(){return n},n}function Oe(){var n=Object(l.a)(["\n  font-size: 48px;\n  font-weight: bold;\n  margin-bottom: 16px;\n"]);return Oe=function(){return n},n}function ve(){var n=Object(l.a)(["\n  padding: 16px;\n"]);return ve=function(){return n},n}function me(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 20px;\n"]);return me=function(){return n},n}var ye=d.a.div(me()),we=d.a.div(ve()),ke=d.a.div(Oe()),Ce=d.a.div(ge()),De=d.a.div(he());function Se(n){var e=n.post;return console.log("render post"),Object(r.jsxs)(we,{children:[Object(r.jsx)(ke,{children:e[0].title}),Object(r.jsx)(Ce,{children:new Date(e[0].createdAt).toLocaleString()}),Object(r.jsx)(De,{children:e[0].body})]})}function Ae(){console.log("render single post");var n=Object(s.h)().id,e=Object(o.useState)(null),t=Object(u.a)(e,2),c=t[0],a=t[1];return Object(o.useEffect)((function(){(function(n){return fetch("".concat(Vn,"/posts?id=").concat(n)).then((function(n){return n.json()}))})(n).then((function(n){return a(n)}))}),[]),Object(r.jsx)(ye,{children:c&&Object(r.jsx)(Se,{post:c})})}function Pe(){var n=Object(l.a)(["\n  color: red;\n  font-weight: bold;\n  font-size: 24px;\n  margin-top: 1rem;\n"]);return Pe=function(){return n},n}function Ne(){var n=Object(l.a)(["\n  padding: 8px;\n  font-size: 16px;\n  margin: 10px auto;\n  border: 1px solid black;\n  border-radius: 8px;\n  width: 100%;\n  resize: none;\n"]);return Ne=function(){return n},n}function Be(){var n=Object(l.a)(["\n  padding: 8px;\n  font-size: 24px;\n  font-weight: bold;\n  margin: 10px auto;\n  border: 1px solid black;\n  border-radius: 8px;\n  width: 50%;\n"]);return Be=function(){return n},n}function Te(){var n=Object(l.a)([""]);return Te=function(){return n},n}function Re(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 20px;\n"]);return Re=function(){return n},n}var Ie=d.a.div(Re()),_e=d.a.form(Te()),ze=d.a.input(Be()),Ee=d.a.textarea(Ne()),Ue=d.a.div(Pe());function Fe(){var n=Object(o.useState)(""),e=Object(u.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(""),i=Object(u.a)(a,2),l=i[0],d=i[1],j=Object(o.useState)(null),b=Object(u.a)(j,2),p=b[0],f=b[1],x=Object(s.f)();return Object(r.jsx)(Ie,{children:Object(r.jsxs)(_e,{onSubmit:function(n){n.preventDefault(),function(n){var e=Nn();return fetch("".concat(Vn,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(e),"content-type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()}))}({title:t,body:l}).then((function(n){return 0===n.ok?f(n.message):x.push("/BlogApp")}))},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"\u6587\u7ae0\u6a19\u984c\uff1a"}),Object(r.jsx)(ze,{value:t,onChange:function(n){c(n.target.value)},onFocus:function(){f(null)}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"\u6587\u7ae0\u5167\u5bb9\uff1a"}),Object(r.jsx)(Ee,{rows:6,value:l,onChange:function(n){d(n.target.value)},onFocus:function(){f(null)}})]}),Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u9001\u51fa"})}),p&&Object(r.jsxs)(Ue,{children:["\u65b0\u589e\u6587\u7ae0\u5931\u6557\uff1a"," ",p]})]})})}function Le(){var n=Object(l.a)(["\n  margin: 16px auto;\n  border: 1px solid black;\n  padding: 16px;\n  border-radius: 8px;\n"]);return Le=function(){return n},n}function Ge(){var n=Object(l.a)(["\n  font-size: 48px;\n  font-weight: bold;\n  margin-bottom: 16px;\n"]);return Ge=function(){return n},n}function Me(){var n=Object(l.a)(["\n  padding: 16px;\n"]);return Me=function(){return n},n}function $e(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n"]);return $e=function(){return n},n}var Je=d.a.div($e()),Ve=d.a.div(Me()),He=d.a.div(Ge()),Ke=d.a.div(Le());function Xe(){return Object(r.jsx)(Je,{children:Object(r.jsxs)(Ve,{children:[Object(r.jsx)(He,{children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(Ke,{children:"\u6f22\u7687\u91cd\u8272\u601d\u50be\u570b\uff0c\u5fa1\u5b87\u591a\u5e74\u6c42\u4e0d\u5f97\u3002 \u694a\u5bb6\u6709\u5973\u521d\u9577\u6210\uff0c\u990a\u5728\u6df1\u95a8\u4eba\u672a\u8b58\u3002 \u5929\u751f\u9e97\u8cea\u96e3\u81ea\u68c4\uff0c\u4e00\u671d\u9078\u5728\u541b\u738b\u5074\u3002 \u56de\u7738\u4e00\u7b11\u767e\u5a9a\u751f\uff0c\u516d\u5bae\u7c89\u9edb\u7121\u984f\u8272\u3002 \u6625\u5bd2\u8cdc\u6d74\u83ef\u6e05\u6c60\uff0c\u6eab\u6cc9\u6c34\u6ed1\u6d17\u51dd\u8102\u3002 \u4f8d\u5152\u6276\u8d77\u5b0c\u7121\u529b\uff0c\u59cb\u662f\u65b0\u627f\u6069\u6fa4\u6642\u3002 \u96f2\u9b22\u82b1\u984f\u91d1\u6b65\u6416\uff0c\u8299\u84c9\u5e33\u6696\u5ea6\u6625\u5bb5\u3002 \u6625\u5bb5\u82e6\u77ed\u65e5\u9ad8\u8d77\uff0c\u5f9e\u6b64\u541b\u738b\u4e0d\u65e9\u671d\u3002 \u627f\u6b61\u4f8d\u5bb4\u7121\u9592\u6687\uff0c\u6625\u5f9e\u6625\u904a\u591c\u5c08\u591c\u3002 \u5f8c\u5bae\u4f73\u9e97\u4e09\u5343\u4eba\uff0c\u4e09\u5343\u5bf5\u611b\u5728\u4e00\u8eab\u3002 \u91d1\u5c4b\u599d\u6210\u5b0c\u4f8d\u591c\uff0c\u7389\u6a13\u5bb4\u7f77\u9189\u548c\u6625\u3002 \u59ca\u59b9\u5f1f\u5144\u7686\u5217\u571f\uff0c\u53ef\u6190\u5149\u5f69\u751f\u9580\u6236\u3002 \u9042\u4ee4\u5929\u4e0b\u7236\u6bcd\u5fc3\uff0c\u4e0d\u91cd\u751f\u7537\u91cd\u751f\u5973\u3002 \u9a6a\u5bae\u9ad8\u8655\u5165\u9752\u96f2\uff0c\u4ed9\u6a02\u98a8\u98c4\u8655\u8655\u805e\u3002 \u7de9\u6b4c\u6162\u821e\u51dd\u7d72\u7af9\uff0c\u76e1\u65e5\u541b\u738b\u770b\u4e0d\u8db3\u3002 \u6f01\u967d\u9f19\u9f13\u52d5\u5730\u4f86\uff0c\u9a5a\u7834\u9713\u88f3\u7fbd\u8863\u66f2\u3002 \u4e5d\u91cd\u57ce\u95d5\u7159\u5875\u751f\uff0c\u5343\u4e58\u842c\u9a0e\u897f\u5357\u884c\u3002 \u7fe0\u83ef\u6416\u6416\u884c\u5fa9\u6b62\uff0c\u897f\u51fa\u90fd\u9580\u767e\u9918\u91cc\u3002 \u516d\u8ecd\u4e0d\u767c\u7121\u5948\u4f55\uff0c\u5b9b\u8f49\u86fe\u7709\u99ac\u524d\u6b7b\u3002 \u82b1\u923f\u59d4\u5730\u7121\u4eba\u6536\uff0c\u7fe0\u7ff9\u91d1\u96c0\u7389\u6414\u982d\u3002 \u541b\u738b\u63a9\u9762\u6551\u4e0d\u5f97\uff0c\u56de\u770b\u8840\u6dda\u76f8\u548c\u6d41\u3002 \u9ec3\u57c3\u6563\u6f2b\u98a8\u856d\u7d22\uff0c\u96f2\u68e7\u7e08\u7d06\u767b\u528d\u95a3\u3002 \u5ce8\u5d4b\u5c71\u4e0b\u5c11\u4eba\u884c\uff0c\u65cc\u65d7\u7121\u5149\u65e5\u8272\u8584\u3002 \u8700\u6c5f\u6c34\u78a7\u8700\u5c71\u9752\uff0c\u8056\u4e3b\u671d\u671d\u66ae\u66ae\u60c5\u3002 \u884c\u5bae\u898b\u6708\u50b7\u5fc3\u8272\uff0c\u591c\u96e8\u805e\u9234\u8178\u65b7\u8072\u3002 \u5929\u65cb\u65e5\u8f49\u8ff4\u9f8d\u99ad\uff0c\u5230\u6b64\u8e8a\u8e87\u4e0d\u80fd\u53bb\u3002 \u99ac\u5d6c\u5761\u4e0b\u6ce5\u571f\u4e2d\uff0c\u4e0d\u898b\u7389\u984f\u7a7a\u6b7b\u8655\u3002 \u541b\u81e3\u76f8\u9867\u76e1\u6cbe\u8863\uff0c\u6771\u671b\u90fd\u9580\u4fe1\u99ac\u6b78\u3002 \u6b78\u4f86\u6c60\u82d1\u7686\u4f9d\u820a\uff0c\u592a\u6db2\u8299\u84c9\u672a\u592e\u67f3\u3002 \u8299\u84c9\u5982\u9762\u67f3\u5982\u7709\uff0c\u5c0d\u6b64\u5982\u4f55\u4e0d\u6dda\u5782\u3002 \u6625\u98a8\u6843\u674e\u82b1\u958b\u65e5\uff0c\u79cb\u96e8\u68a7\u6850\u8449\u843d\u6642\u3002 \u897f\u5bae\u5357\u5167\u591a\u79cb\u8349\uff0c\u843d\u8449\u6eff\u968e\u7d05\u4e0d\u6383\u3002 \u68a8\u5712\u5b50\u5f1f\u767d\u9aee\u65b0\uff0c\u6912\u623f\u963f\u76e3\u9752\u5a25\u8001\u3002 \u5915\u6bbf\u87a2\u98db\u601d\u6084\u7136\uff0c\u5b64\u71c8\u6311\u76e1\u672a\u6210\u7720\u3002 \u9072\u9072\u9418\u9f13\u521d\u9577\u591c\uff0c\u803f\u803f\u661f\u6cb3\u6b32\u66d9\u5929\u3002 \u9d1b\u9d26\u74e6\u51b7\u971c\u83ef\u91cd\uff0c\u7fe1\u7fe0\u887e\u5bd2\u8ab0\u8207\u5171\u3002 \u60a0\u60a0\u751f\u6b7b\u5225\u7d93\u5e74\uff0c\u9b42\u9b44\u4e0d\u66fe\u4f86\u5165\u5922\u3002 \u81e8\u909b\u9053\u58eb\u9d3b\u90fd\u5ba2\uff0c\u80fd\u4ee5\u7cbe\u8aa0\u81f4\u9b42\u9b44\u3002 \u70ba\u611f\u541b\u738b\u8f3e\u8f49\u601d\uff0c\u9042\u6559\u65b9\u58eb\u6bb7\u52e4\u8993\u3002 \u6392\u7a7a\u99ad\u6c23\u5954\u5982\u96fb\uff0c\u5347\u5929\u5165\u5730\u6c42\u4e4b\u904d\u3002 \u4e0a\u7aae\u78a7\u843d\u4e0b\u9ec3\u6cc9\uff0c\u5169\u8655\u832b\u832b\u7686\u4e0d\u898b\u3002 \u5ffd\u805e\u6d77\u4e0a\u6709\u4ed9\u5c71\uff0c\u5c71\u5728\u865b\u7121\u7e39\u7df2\u9593\u3002 \u6a13\u95a3\u73b2\u74cf\u4e94\u96f2\u8d77\uff0c\u5176\u4e2d\u7dbd\u7d04\u591a\u4ed9\u5b50\u3002 \u4e2d\u6709\u4e00\u4eba\u5b57\u592a\u771f\uff0c\u96ea\u819a\u82b1\u8c8c\u53c3\u5dee\u662f\u3002 \u91d1\u95d5\u897f\u5ec2\u53e9\u7389\u6243\uff0c\u8f49\u6559\u5c0f\u7389\u5831\u96d9\u6210\u3002 \u805e\u9053\u6f22\u5bb6\u5929\u5b50\u4f7f\uff0c\u4e5d\u83ef\u5e33\u88cf\u5922\u9b42\u9a5a\u3002 \u652c\u8863\u63a8\u6795\u8d77\u5f98\u5f8a\uff0c\u73e0\u7b94\u9280\u5c4f\u8fe4\u9090\u958b\u3002 \u96f2\u9afb\u534a\u504f\u65b0\u7761\u89ba\uff0c\u82b1\u51a0\u4e0d\u6574\u4e0b\u5802\u4f86\u3002 \u98a8\u5439\u4ed9\u8882\u98c4\u98bb\u8209\uff0c\u7336\u4f3c\u9713\u88f3\u7fbd\u8863\u821e\u3002 \u7389\u5bb9\u5bc2\u5bde\u6dda\u95cc\u5e72\uff0c\u68a8\u82b1\u4e00\u679d\u6625\u5e36\u96e8\u3002 \u542b\u60c5\u51dd\u7747\u8b1d\u541b\u738b\uff0c\u4e00\u5225\u97f3\u5bb9\u5169\u6e3a\u832b\u3002 \u662d\u967d\u6bbf\u88cf\u6069\u611b\u7d55\uff0c\u84ec\u840a\u5bae\u4e2d\u65e5\u6708\u9577\u3002 \u56de\u982d\u4e0b\u671b\u4eba\u5bf0\u8655\uff0c\u4e0d\u898b\u9577\u5b89\u898b\u5875\u9727\u3002 \u552f\u5c07\u820a\u7269\u8868\u6df1\u60c5\uff0c\u923f\u5408\u91d1\u91f5\u5bc4\u5c07\u53bb\u3002 \u91f5\u7559\u4e00\u80a1\u5408\u4e00\u6247\uff0c\u91f5\u64d8\u9ec3\u91d1\u5408\u5206\u923f\u3002 \u4f46\u6559\u5fc3\u4f3c\u91d1\u923f\u5805\uff0c\u5929\u4e0a\u4eba\u9593\u6703\u76f8\u898b\u3002 \u81e8\u5225\u6bb7\u52e4\u91cd\u5bc4\u8a5e\uff0c\u8a5e\u4e2d\u6709\u8a93\u5169\u5fc3\u77e5\u3002 \u4e03\u6708\u4e03\u65e5\u9577\u751f\u6bbf\uff0c\u591c\u534a\u7121\u4eba\u79c1\u8a9e\u6642\u3002 \u5728\u5929\u9858\u4f5c\u6bd4\u7ffc\u9ce5\uff0c\u5728\u5730\u9858\u70ba\u9023\u7406\u679d\u3002 \u5929\u9577\u5730\u4e45\u6709\u6642\u76e1\uff0c\u6b64\u6068\u7dbf\u7dbf\u7121\u7d55\u671f\u3002"})]})})}function Ye(){var n=Object(l.a)(["\n  color: rgba(0, 0, 0, 0.8);\n  text-align: right;\n  "," {\n    margin-top: 16px;\n  }\n  "," {\n    margin-top: 0px;\n  }\n"]);return Ye=function(){return n},n}function Ze(){var n=Object(l.a)(["\n  color: #333;\n  text-decoration: none;\n  font-size: 24px;\n  max-width: 360px;\n  overflow-wrap: break-word;\n"]);return Ze=function(){return n},n}function qe(){var n=Object(l.a)(["\n  border: solid 2px sandybrown;\n  border-radius: 8px;\n  border-bottom: 1px solid rgba(0, 12, 34, 0, 2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  "," {\n    margin: 10px auto;\n    flex-direction: column;\n  }\n  "," {\n    flex-direction: row;\n  }\n"]);return qe=function(){return n},n}function We(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n"]);return We=function(){return n},n}var Qe=d.a.div(We()),nt=d.a.div(qe(),Bn,Rn),et=Object(d.a)(i.b)(Ze()),tt=d.a.div(Ye(),Bn,Rn);function rt(n){var e=n.postsCount,t=n.currentPage,o=Math.ceil(e/5);console.log("totalPage: ",o);for(var c=[],a=1;a<=o;a+=1)c.push(Object(r.jsx)(gn.a.Item,{active:a===Number(t),href:"#/BlogApp/pagination/".concat(a),children:a},a));return Object(r.jsx)(gn.a,{className:"d-flex justify-content-center",size:"lg",children:c})}function ot(n){var e=n.post;return Object(r.jsxs)(nt,{children:[Object(r.jsx)(et,{to:"/BlogApp/posts/".concat(e.id),children:e.title}),Object(r.jsx)(tt,{children:new Date(e.createdAt).toLocaleString()})]})}function ct(){var n=Object(s.h)().page,e=Object(o.useState)(null),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(o.useState)(null),l=Object(u.a)(i,2),d=l[0],j=l[1];return Object(o.useEffect)((function(){console.log("useEffect just init to setPosts"),function(n){return fetch("".concat(Vn,"/posts?_sort=createdAt&_order=desc&_page=").concat(n,"&_limit=5"))}(n).then((function(n){var e=Number(n.headers.get("x-total-count"));return j(e),n.json()})).then((function(n){return a(n)}))}),[n]),Object(r.jsxs)(Qe,{children:[d>0&&c&&c.map((function(n){return Object(r.jsx)(ot,{post:n},n.id)})),d>0&&Object(r.jsx)(rt,{postsCount:d,currentPage:n})]})}var at=Object(o.memo)(ct);var it=function(){console.log("render BlogApp");var n=Object(o.useState)(null),e=Object(u.a)(n,2),t=e[0],c=e[1];return Object(o.useEffect)((function(){console.log("useEffect in first render"),Nn()?Hn().then((function(n){if(1!==n.ok)return console.log("no ok"),Pn(""),void c(!1);console.log("ok"),c(n.data)})):c(!1)}),[]),Object(r.jsx)(Sn.Provider,{value:{user:t,setUser:c},children:Object(r.jsxs)(i.a,{children:[Object(r.jsx)(Jn,{children:"header"}),Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{exact:!0,path:"/",children:Object(r.jsx)(re,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp",children:Object(r.jsx)(re,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp/about",children:Object(r.jsx)(Xe,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp/login",children:Object(r.jsx)(de,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp/register",children:Object(r.jsx)(xe,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp/pagination/:page",children:Object(r.jsx)(at,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp/posts/:id",children:Object(r.jsx)(Ae,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogApp/new-post",children:Object(r.jsx)(Fe,{})})]})]})})},st=(t(84),Object(o.memo)((function(n){var e=n.handleAddTodo,t=n.handleSetFilter,c=Object(o.useState)(""),a=Object(u.a)(c,2),i=a[0],s=a[1];return Object(r.jsxs)(G.a,{className:"mb-3",children:[Object(r.jsx)(M.a,{placeholder:"\u8acb\u8f38\u5165\u5f85\u8fa6\u4e8b\u9805",value:i,onChange:function(n){return s(n.target.value)}}),Object(r.jsx)(G.a.Append,{children:Object(r.jsx)($.a,{onClick:function(){i&&(e(i),s(""),t("all"))},children:"\u9001\u51fa"})})]})})));function ut(){var n=Object(l.a)([""]);return ut=function(){return n},n}function lt(){var n=Object(l.a)(["\n  margin-right: 16px;\n  word-break: break-word;\n  padding: 6px;\n  border: none;\n  font-size: 26px;\n  flex: 1;\n  outline: 1px solid grey;\n  box-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\n  ","\n"]);return lt=function(){return n},n}function dt(){var n=Object(l.a)(["\n  margin-right: 16px;\n  word-break: break-word;\n  padding: 6px;\n  border: none;\n  font-size: 26px;\n  flex: 1;\n  ","\n"]);return dt=function(){return n},n}function jt(){var n=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 16px;\n  border: 1px solid black;\n\n  & + & {\n    margin-top: 12px;\n  }\n"]);return jt=function(){return n},n}var bt=d.a.div(jt()),pt=d.a.div(dt(),(function(n){return n.$isDone&&"text-decoration: line-through;"})),ft=d.a.input(lt(),(function(n){return n.$isDone&&"text-decoration: line-through;"})),xt=d.a.div(ut());function ht(n){var e=n.todo,t=n.handleDeleteTodo,o=n.handleToggleIsDone,c=n.handleUpdateTodo,a=n.updatingTodo,i=n.handleUpdateChange,s=n.handleUpdateDone,u=n.editingInput;return Object(r.jsxs)(bt,{"data-todo-id":e.id,children:[a.id&&Number(a.id)===e.id?Object(r.jsx)(ft,{"data-todo-id":e.id,value:a.value,onChange:function(n){var e=n.target.getAttribute("data-todo-id"),t=n.target.value;i(e,t)},onBlur:s,ref:u}):Object(r.jsx)(pt,{$isDone:e.isDone,"data-todo-id":e.id,onDoubleClick:function(n){if(!e.isDone){var t=n.target.getAttribute("data-todo-id"),r=n.target.innerText;c(t,r)}},children:e.content}),Object(r.jsxs)(xt,{children:[Object(r.jsx)($.a,{onClick:function(){o(e.id)},variant:e.isDone?"secondary":"success",children:e.isDone?"\u672a\u5b8c\u6210":"\u5df2\u5b8c\u6210"})," ",Object(r.jsx)($.a,{variant:"danger",onClick:function(){t(e.id)},children:"\u522a\u9664"})]})]})}var gt=Object(o.memo)((function(n){var e=n.todos,t=n.filter,c=n.handleSetFilter,a=n.handleClearDoneTodos,i=Object(o.useMemo)((function(){var n=0;return e.forEach((function(e){e.isDone||(n+=1)})),n}),[e]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3 px-3",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("strong",{children:i})," ","\u500b\u672a\u5b8c\u6210"]}),Object(r.jsxs)("div",{className:"options",children:[Object(r.jsx)($.a,{variant:"info",onClick:function(){return c("all")},className:"all"===t&&"active",children:"All"})," ",Object(r.jsx)($.a,{variant:"info",onClick:function(){return c("active")},className:"active"===t&&"active",children:"Active"})," ",Object(r.jsx)($.a,{variant:"info",onClick:function(){return c("completed")},className:"completed"===t&&"active",children:"Completed"})]}),Object(r.jsx)($.a,{variant:"warning",onClick:a,children:"Clear completed"})]})})})),Ot=t(8),vt=function(n){return n.todoState.todos},mt=function(n){return n.filterState.name},yt=function(n){return n.updatingTodoState};function wt(n,e){return{type:"set_updating_todo",payload:{id:n,value:e}}}function kt(){var n=Object(Ot.c)(vt),e=Object(Ot.c)(mt),t=Object(Ot.c)(yt),r=Object(Ot.b)(),c=Object(o.useRef)(null);Object(o.useEffect)((function(){!function(n){window.localStorage.setItem("todos",0===n.length?[]:JSON.stringify(n))}(n)}),[n]),Object(o.useEffect)((function(){t.id&&c.current.focus()}),[t]);var a=Object(o.useCallback)((function(n){r({type:"add_todo",payload:{content:n}})}),[r]),i=Object(o.useCallback)((function(e){n.length>0&&r(function(n){return{type:"set_filter",payload:{name:n}}}(e))}),[n.length,r]);return{todos:n,filter:e,updatingTodo:t,handleAddTodo:a,handleSetFilter:i,handleClearDoneTodos:function(){n.length>0&&r({type:"clear_done_todo"})},handleDeleteTodo:function(n){return r(function(n){return{type:"delete_todo",payload:{id:n}}}(n))},handleToggleIsDone:function(n){return r(function(n){return{type:"toggle_todo",payload:{id:n}}}(n))},handleUpdateTodo:function(n,e){r(wt(n,e))},handleUpdateChange:function(n,e){r(wt(n,e)),r(function(n,e){return{type:"update_todo",payload:{id:n,content:e}}}(n,e))},handleUpdateDone:function(){r(wt(null,null))},editingInput:c}}function Ct(){var n=Object(l.a)(["\n  color: orange;\n  text-align: center;\n  font-size: 60px;\n  font-weight: bold;\n  padding: 20px;\n  margin-bottom: 10px;\n"]);return Ct=function(){return n},n}function Dt(){var n=Object(l.a)(["\n  border-radius: 8px;\n  padding: 16px;\n  background: white;\n"]);return Dt=function(){return n},n}var St=d.a.div(Dt()),At=Object(o.memo)(d.a.div(Ct()));function Pt(){var n=kt(),e=n.todos,t=n.filter,o=n.updatingTodo,c=n.handleAddTodo,a=n.handleSetFilter,i=n.handleClearDoneTodos,s=n.handleDeleteTodo,u=n.handleToggleIsDone,l=n.handleUpdateTodo,d=n.handleUpdateChange,j=n.handleUpdateDone,b=n.editingInput;return Object(r.jsx)(L.a,{className:"my-5",children:Object(r.jsxs)(St,{children:[Object(r.jsx)(At,{children:"Todo List"}),Object(r.jsx)(st,{handleAddTodo:c,handleSetFilter:a}),Object(r.jsx)(gt,{todos:e,filter:t,handleSetFilter:a,handleClearDoneTodos:i}),e.map((function(n){return"active"===t&&n.isDone?"":"completed"!==t||n.isDone?Object(r.jsx)(ht,{todo:n,handleDeleteTodo:s,handleToggleIsDone:u,handleUpdateTodo:l,updatingTodo:o,handleUpdateChange:d,handleUpdateDone:j,editingInput:b},n.id):""}))]})})}t(86);var Nt=t(31),Bt="token",Tt=function(n){localStorage.setItem(Bt,n)},Rt=function(){return localStorage.getItem(Bt)},It="https://student-json-api.lidemy.me",_t=function(){var n=Rt();return fetch("".concat(It,"/me"),{headers:{authorization:"Bearer ".concat(n)}}).then((function(n){return n.json()}))},zt=Object(Nt.b)({name:"error",initialState:{errorMessage:null},reducers:{setErrorMessage:function(n,e){n.errorMessage=e.payload}}}),Et=zt.actions.setErrorMessage,Ut=zt.reducer,Ft=Object(Nt.b)({name:"user",initialState:{data:null,isLogging:!1,logResponse:null,isRegistering:!1,registerResponse:null,isGettingUserData:null},reducers:{setUser:function(n,e){n.data=e.payload},setIsLogging:function(n,e){n.isLogging=e.payload},setLogResponse:function(n,e){n.logResponse=e.payload},setIsRegistering:function(n,e){n.isRegistering=e.payload},setRegisterResponse:function(n,e){n.registerResponse=e.payload},setIsGettingUserData:function(n,e){n.isGettingUserData=e.payload},setGetUserDataResponse:function(n,e){n.getUserDataResponse=e.payload}}}),Lt=Ft.actions,Gt=Lt.setUser,Mt=Lt.setIsLogging,$t=(Lt.setLogResponse,Lt.setIsRegistering),Jt=(Lt.setRegisterResponse,Lt.setIsGettingUserData),Vt=Lt.setGetUserDataResponse,Ht=function(n,e){return function(t){t(Mt(!0)),function(n,e){return fetch("".concat(It,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:e})}).then((function(n){return n.json()}))}(n,e).then((function(n){if(0===n.ok)return t(Et(n.message)),void t(Mt(!1));Tt(n.token),_t().then((function(n){if(0===n.ok)return Tt(""),t(Gt(null)),t(Et(n.message)),void t(Mt(!1));t(Gt(n.data)),t(Mt(!1))}))})).catch((function(n){console.log("err: ",n)}))}},Kt=function(n,e,t){return function(r){r($t(!0)),function(n,e,t){return fetch("".concat(It,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:n,username:e,password:t})}).then((function(n){return n.json()}))}(n,e,t).then((function(n){if(0===n.ok)return r($t(!1)),void r(Et(n.message));Tt(n.token),_t().then((function(n){if(0===n.ok)return Tt(""),r(Gt(null)),r($t(!1)),void r(Et(n.message));r(Gt(n.data)),r($t(!1))}))})).catch((function(n){console.log("err: ",n)}))}},Xt=Ft.reducer,Yt=t(130),Zt=t(27);function qt(){var n=Object(l.a)(["\n  background-color: coral;\n  text-align: center;\n  font-size: 20px;\n  color: white;\n  padding: 6px;\n"]);return qt=function(){return n},n}function Wt(){var n=Object(l.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  font-weight: bold;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  ","\n  "," {\n    width: 100%;\n    & + & {\n      margin-top: 6px;\n    }\n  }\n  "," {\n    padding: 5px 10px;\n    width: auto;\n    & + & {\n      margin-top: 0px;\n      margin-left: 6px;\n    }\n  }\n  "," {\n    font-size: 24px;\n  }\n"]);return Wt=function(){return n},n}function Qt(){var n=Object(l.a)(["\n  display: flex;\n  "," {\n    font-size: 24px;\n    flex-direction: column;\n    align-items: center;\n    & + & {\n      margin-top: 6px;\n    }\n  }\n  "," {\n    font-size: 18px;\n    flex-direction: row;\n    & + & {\n      margin-top: 0px;\n    }\n  }\n"]);return Qt=function(){return n},n}function nr(){var n=Object(l.a)(["\n  "," {\n    width: 100%;\n    & + & {\n      margin-top: 6px;\n    }\n  }\n  "," {\n    margin: auto 10px;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n"]);return nr=function(){return n},n}function er(){var n=Object(l.a)(["\n  font-weight: bold;\n  margin: 10px auto;\n  "," {\n    font-size: 50px;\n  }\n  "," {\n    width: 150px;\n    font-size: 24px;\n    margin: auto 10px;\n  }\n  "," {\n    width: 350px;\n    font-size: 40px;\n  }\n"]);return er=function(){return n},n}function tr(){var n=Object(l.a)(["\n  text-align: center;\n  background: floralwhite;\n  display: flex;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 10px 20px;\n  "," {\n    flex-direction: column;\n  }\n  "," {\n    flex-direction: row;\n    padding: 10px;\n  }\n"]);return tr=function(){return n},n}function rr(){var n=Object(l.a)(["\n  position: sticky;\n  z-index: 1;\n  top: 0;\n"]);return rr=function(){return n},n}var or=d.a.div(rr()),cr=d.a.div(tr(),Bn,Tn),ar=d.a.div(er(),Bn,Tn,Rn),ir=d.a.div(nr(),Bn,Tn),sr=d.a.div(Qt(),Bn,Tn),ur=Object(d.a)(i.b)(Wt(),(function(n){return n.$active&&"\n    background: rgba(0, 0, 0, 0.1);\n  "}),Bn,Tn,Rn),lr=d.a.div(qt());function dr(){var n=Object(Ot.b)(),e=Object(s.f)(),t=Object(s.g)().pathname,c=Object(Ot.c)((function(n){return n.user.data})),a=Object(Ot.c)((function(n){return n.error.errorMessage})),i=Object(Ot.c)((function(n){return n.user.isGettingUserData}));Object(o.useEffect)((function(){return e.listen((function(){n(Et(null))}))}),[n,e]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(or,{children:[Object(r.jsxs)(cr,{children:[Object(r.jsx)(ar,{children:"Redux Blog"}),Object(r.jsxs)(ir,{children:[Object(r.jsxs)(sr,{children:[Object(r.jsx)(ur,{$active:"/BlogAppRedux"===t,to:"/BlogAppRedux",children:"\u9996\u9801"}),Object(r.jsx)(ur,{$active:"/BlogAppRedux/About"===t,to:"/BlogAppRedux/About",children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(ur,{$active:t.includes("/BlogAppRedux/pagination"),to:"/BlogAppRedux/pagination/1",children:"\u6587\u7ae0\u5206\u9801"})]}),Object(r.jsxs)(sr,{children:[i&&Object(r.jsx)(Zt.b,{}),!c&&!1===i&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ur,{$active:"/BlogAppRedux/register"===t,to:"/BlogAppRedux/register",children:"\u8a3b\u518a"}),Object(r.jsx)(ur,{$active:"/BlogAppRedux/login"===t,to:"/BlogAppRedux/login",children:"\u767b\u5165"})]}),c&&!1===i&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ur,{$active:"/BlogAppRedux/new-post"===t,to:"/BlogAppRedux/new-post",children:"\u767c\u5e03\u6587\u7ae0"}),Object(r.jsx)(ur,{onClick:function(){Tt(""),n(Gt(null))},to:"/BlogAppRedux",children:"\u767b\u51fa"})]})]})]})]}),c&&Object(r.jsxs)(lr,{children:["Hello!",c.nickname]}),a&&Object(r.jsx)(Yt.a,{variant:"danger",children:a})]})})}var jr=Object(Nt.b)({name:"posts",initialState:{error:null,isGettingPost:!1,singlePostData:null,allPostData:null,byPagePostData:null,getPostResponse:null,totalPostsCount:null,isAddingPost:!1,addPostResponse:null,isDeletingPost:!1,deletePostResponse:{ok:null,errorMessage:null},isUpdatingPost:null,updatePostResponse:null},reducers:{setIsGettingPost:function(n,e){n.isGettingPost=e.payload},setSinglePostData:function(n,e){console.log("receive setSinglePostData"),n.singlePostData=e.payload},setAllPostData:function(n,e){n.allPostData=e.payload},setByPagePostData:function(n,e){n.byPagePostData=e.payload},setGetPostResponse:function(n,e){n.getPostResponse=e.payload},setTotalPostsCount:function(n,e){n.totalPostsCount=e.payload},setIsAddingPost:function(n,e){n.isAddingPost=e.payload},setAddPostResponse:function(n,e){n.addPostResponse=e.payload},setIsDeletingPost:function(n,e){n.isDeletingPost=e.payload},setDeletePostResponse:function(n,e){n.deletePostResponse=e.payload},setIsUpdatingPost:function(n,e){n.isUpdatingPost=e.payload},setUpdatePostResponse:function(n,e){n.updatePostResponse=e.payload}}}),br=jr.actions,pr=br.setIsGettingPost,fr=br.setSinglePostData,xr=br.setAllPostData,hr=br.setByPagePostData,gr=br.setTotalPostsCount,Or=br.setIsAddingPost,vr=br.setAddPostResponse,mr=br.setIsDeletingPost,yr=br.setIsUpdatingPost,wr=br.setUpdatePostResponse,kr=function(n,e){return function(t){switch(n){case"single":t(pr(!0)),(o=e,fetch("".concat(It,"/posts?id=").concat(o)).then((function(n){return n.json()}))).then((function(n){if(0===n.length)return t(Et("\u6b64\u6587\u7ae0\u4e0d\u5b58\u5728\u6216\u5df2\u88ab\u522a\u9664")),void t(pr(!1));t(fr(n)),t(pr(!1))})).catch((function(n){console.log("err: ",n)}));break;case"all":t(pr(!0)),fetch("".concat(It,"/posts?_sort=createdAt&_order=desc")).then((function(n){return n.json()})).then((function(n){if(0===n.length)return t(Et("\u76ee\u524d\u7121\u4efb\u4f55\u6587\u7ae0")),void t(pr(!1));t(xr(n)),t(pr(!1))})).catch((function(n){console.log("err: ",n)}));break;case"byPage":t(pr(!0)),(r=e,fetch("".concat(It,"/posts?_sort=createdAt&_order=desc&_page=").concat(r,"&_limit=5"))).then((function(n){var e=Number(n.headers.get("x-total-count"));return t(gr(e)),n.json()})).then((function(n){if(0===n.length)return t(Et("\u67e5\u770b\u7684\u5206\u9801\u4e0d\u5b58\u5728")),void t(pr(!1));t(hr(n)),t(pr(!1))})).catch((function(n){console.log("err: ",n)}));break;default:return!1}var r,o;return!0}},Cr=function(n){return function(e){e(Or(!0)),function(n){var e=Rt();return fetch("".concat(It,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(e),"content-type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()}))}(n).then((function(n){0!==n.ok?(e(vr(n)),e(Or(!1))):e(Et(n.message))})).catch((function(n){console.log("err: ",n)}))}},Dr=function(n){return function(e){e(mr(!0)),function(n){var e=Rt();return fetch("".concat(It,"/posts/").concat(n),{method:"DELETE",headers:{authorization:"Bearer ".concat(e)}}).then((function(n){return n.json()}))}(n).then((function(){e(mr(!1))})).catch((function(n){console.log("err: ",n)}))}},Sr=function(n,e){return function(t){t(yr(!0)),function(n,e){var t=Rt();return fetch("".concat(It,"/posts/").concat(n),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"content-type":"application/json"},body:JSON.stringify(e)}).then((function(n){return n.json()}))}(n,e).then((function(n){t(wr(n)),t(yr(!1))})).catch((function(n){console.log("err: ",n)}))}},Ar=jr.reducer;function Pr(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n"]);return Pr=function(){return n},n}var Nr=d.a.div(Pr());function Br(){var n=Object(l.a)(["\n  color: rgba(0, 0, 0, 0.8);\n  text-align: right;\n  "," {\n    margin-top: 16px;\n  }\n  "," {\n    margin-top: 0px;\n  }\n"]);return Br=function(){return n},n}function Tr(){var n=Object(l.a)(["\n  color: #333;\n  text-decoration: none;\n  font-size: 24px;\n  max-width: 360px;\n  overflow-wrap: break-word;\n"]);return Tr=function(){return n},n}function Rr(){var n=Object(l.a)(["\n  border: solid 2px sandybrown;\n  border-radius: 8px;\n  border-bottom: 1px solid rgba(0, 12, 34, 0, 2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  "," {\n    margin: 10px auto;\n    flex-direction: column;\n  }\n  "," {\n    flex-direction: row;\n  }\n  &:hover {\n    text-decoration: none;\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n"]);return Rr=function(){return n},n}var Ir=Object(d.a)(i.b)(Rr(),Bn,Rn),_r=d.a.div(Tr()),zr=d.a.div(Br(),Bn,Rn);function Er(n){var e=n.post;return Object(r.jsxs)(Ir,{to:"/BlogAppRedux/posts/".concat(e.id),children:[Object(r.jsx)(_r,{children:e.title}),Object(r.jsx)(zr,{children:new Date(e.createdAt).toLocaleString()})]})}var Ur=Object(o.memo)(Er),Fr=t(64);function Lr(){var n=Object(l.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: black;\n"]);return Lr=function(){return n},n}var Gr=d.a.div(Lr()),Mr=function(){return Object(r.jsx)(Gr,{children:Object(r.jsx)(Fr.LoopCircleLoading,{})})};function $r(){var n=Object(Ot.b)(),e=Object(Ot.c)((function(n){return n.posts.isGettingPost})),t=Object(Ot.c)((function(n){return n.posts.allPostData}));return Object(o.useEffect)((function(){return n(kr("all")),function(){n(xr(null))}}),[n]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)(Mr,{}),!e&&t&&t.length>0&&Object(r.jsx)(Nr,{children:t.map((function(n){return Object(r.jsx)(Ur,{post:n},n.id)}))})]})}var Jr=Object(o.memo)($r);function Vr(){var n=Object(l.a)(["\n  text-align: center;\n  margin: 100px auto;\n  background: white;\n  opacity: 0.8;\n  max-width: 500px;\n  border-radius: 10px;\n  padding: 50px 20px;\n"]);return Vr=function(){return n},n}var Hr=d.a.div(Vr());function Kr(){var n=Object(s.f)(),e=Object(Ot.b)(),t=Object(o.useState)(""),c=Object(u.a)(t,2),a=c[0],i=c[1],l=Object(o.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(Ot.c)((function(n){return n.user.isLogging})),f=Object(Ot.c)((function(n){return n.user.data})),x=function(){e(Et(null))};return Object(o.useEffect)((function(){f&&n.push("/BlogAppRedux/")}),[f,n]),Object(r.jsx)(Hr,{children:Object(r.jsxs)(oe.a,{onSubmit:function(n){n.preventDefault(),e(Ht(a,j))},children:[Object(r.jsxs)(oe.a.Group,{controlId:"formBasicUsername",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Username"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"username",placeholder:"Enter username",value:a,onChange:function(n){return i(n.target.value)},onFocus:x})})]}),Object(r.jsxs)(oe.a.Group,{controlId:"formBasicPassword",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Password"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"password",placeholder:"Enter Password",value:j,onChange:function(n){return b(n.target.value)},onFocus:x})})]}),p&&Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)(Zt.a,{})}),!p&&Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u767b\u5165"})]})})}function Xr(){var n=Object(l.a)(["\n  text-align: center;\n  margin: 100px auto;\n  background: white;\n  opacity: 0.8;\n  max-width: 500px;\n  border-radius: 10px;\n  padding: 50px 20px;\n"]);return Xr=function(){return n},n}var Yr=d.a.div(Xr());function Zr(){var n=Object(s.f)(),e=Object(Ot.b)(),t=Object(o.useState)(""),c=Object(u.a)(t,2),a=c[0],i=c[1],l=Object(o.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1],p=Object(o.useState)(""),f=Object(u.a)(p,2),x=f[0],h=f[1],g=Object(Ot.c)((function(n){return n.user.isRegistering})),O=Object(Ot.c)((function(n){return n.user.data})),v=Object(Ot.c)((function(n){return n.error.errorMessage}));console.log("render registerPage"),console.log("errorMessage",v);var m=function(){e(Et(null))};return Object(o.useEffect)((function(){O&&n.push("/BlogAppRedux/")}),[e,O,n]),Object(r.jsx)(Yr,{children:Object(r.jsxs)(oe.a,{onSubmit:function(n){n.preventDefault(),e(Kt(a,j,x))},children:[Object(r.jsxs)(oe.a.Group,{controlId:"formBasicNickname",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Nickname"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"nickname",placeholder:"Enter nickname",value:a,onChange:function(n){return i(n.target.value)},onFocus:m})})]}),Object(r.jsxs)(oe.a.Group,{controlId:"formBasicUsername",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Username"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"username",placeholder:"Enter username",value:j,onChange:function(n){return b(n.target.value)},onFocus:m})})]}),Object(r.jsxs)(oe.a.Group,{controlId:"formBasicPassword",as:ce.a,children:[Object(r.jsx)(oe.a.Label,{column:!0,sm:"4",children:"Password"}),Object(r.jsx)(ae.a,{sm:"8",children:Object(r.jsx)(oe.a.Control,{type:"password",placeholder:"Enter Password",value:x,onChange:function(n){return h(n.target.value)},onFocus:m})})]}),g&&Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)(Zt.a,{})}),!g&&Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u8a3b\u518a"})]})})}var qr=t(128);function Wr(n){var e=Object(o.useRef)();return Object(o.useEffect)((function(){e.current=n}),[n]),e.current}function Qr(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  height: 64px;\n"]);return Qr=function(){return n},n}function no(){var n=Object(l.a)(["\n  margin: 16px auto;\n  border: 1px solid black;\n  padding: 16px;\n  border-radius: 8px;\n"]);return no=function(){return n},n}function eo(){var n=Object(l.a)(["\n  color: rgba(0, 0, 0, 0.5);\n  text-align: end;\n"]);return eo=function(){return n},n}function to(){var n=Object(l.a)(["\n  font-size: 48px;\n  font-weight: bold;\n  margin-bottom: 16px;\n"]);return to=function(){return n},n}function ro(){var n=Object(l.a)(["\n  padding: 16px;\n"]);return ro=function(){return n},n}var oo=d.a.div(ro()),co=d.a.div(to()),ao=d.a.div(eo()),io=d.a.div(no()),so=d.a.div(Qr());function uo(n){var e=n.showDeleteModal,t=n.handleCloseDeleteModal,o=n.handleDeletePost,c=n.isDeletingPost;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(qr.a,{show:e,onHide:t,children:[Object(r.jsx)(qr.a.Header,{closeButton:!0,children:Object(r.jsx)(qr.a.Title,{children:"\u63d0\u793a"})}),c&&Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)(Zt.c,{})}),!c&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(qr.a.Body,{children:"\u78ba\u5b9a\u522a\u9664\u6b64\u7bc7\u6587\u7ae0\u55ce?"}),Object(r.jsxs)(qr.a.Footer,{children:[Object(r.jsx)($.a,{variant:"secondary",onClick:t,children:"\u53d6\u6d88"}),Object(r.jsx)($.a,{variant:"danger",onClick:o,children:"\u78ba\u5b9a"})]})]})]})})}var lo=Object(o.memo)((function(n){var e=n.singlePostData,t=n.handleShowDeleteModal,o=n.userData,c=n.id;return console.log("render post"),Object(r.jsxs)(oo,{children:[Object(r.jsx)(co,{children:e[0].title}),Object(r.jsx)(ao,{children:new Date(e[0].createdAt).toLocaleString()}),o&&Object(r.jsxs)(so,{children:[Object(r.jsx)($.a,{className:"mr-3",variant:"info",href:"#/BlogAppRedux/update-post/".concat(c),children:"\u7de8\u8f2f"}),Object(r.jsx)($.a,{variant:"danger",onClick:t,children:"\u522a\u9664"})]}),Object(r.jsx)(io,{children:e[0].body})]})}));function jo(){var n=Object(s.h)().id,e=Object(s.f)(),t=Object(o.useState)(!1),c=Object(u.a)(t,2),a=c[0],i=c[1],l=Object(o.useCallback)((function(){i(!0)}),[i]),d=Object(Ot.b)(),j=Object(Ot.c)((function(n){return n.user.data})),b=Object(Ot.c)((function(n){return n.posts.isGettingPost})),p=Object(Ot.c)((function(n){return n.posts.singlePostData})),f=Object(Ot.c)((function(n){return n.posts.isDeletingPost})),x=Wr(f);return Object(o.useEffect)((function(){return d(kr("single",n)),function(){d(fr(null))}}),[d,n]),Object(o.useEffect)((function(){!f&&x&&e.push("/BlogAppRedux/")}),[e,f,x]),Object(r.jsxs)(r.Fragment,{children:[b&&Object(r.jsx)(Mr,{}),Object(r.jsx)(uo,{showDeleteModal:a,handleCloseDeleteModal:function(){return i(!1)},handleDeletePost:function(){d(Dr(n))},isDeletingPost:f}),!b&&p&&p.length>0&&Object(r.jsx)(Nr,{children:Object(r.jsx)(lo,{singlePostData:p,handleShowDeleteModal:l,isDeletingPost:f,userData:j,id:n})})]})}function bo(){var n=Object(l.a)(["\n  color: red;\n  font-weight: bold;\n  font-size: 36px;\n  text-align: center;\n  margin-top: 1rem;\n"]);return bo=function(){return n},n}function po(){var n=Object(l.a)(["\n  padding: 8px;\n  font-size: 16px;\n  margin: 10px auto;\n  border: 1px solid black;\n  border-radius: 8px;\n  width: 100%;\n  resize: none;\n"]);return po=function(){return n},n}function fo(){var n=Object(l.a)(["\n  padding: 8px;\n  font-size: 24px;\n  font-weight: bold;\n  margin: 10px auto;\n  border: 1px solid black;\n  border-radius: 8px;\n  width: 50%;\n"]);return fo=function(){return n},n}function xo(){var n=Object(l.a)([""]);return xo=function(){return n},n}function ho(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 20px;\n"]);return ho=function(){return n},n}var go=d.a.div(ho()),Oo=d.a.form(xo()),vo=d.a.input(fo()),mo=d.a.textarea(po()),yo=d.a.div(bo());function wo(){var n=Object(o.useState)(""),e=Object(u.a)(n,2),t=e[0],c=e[1],a=Object(o.useState)(""),i=Object(u.a)(a,2),l=i[0],d=i[1],j=Object(s.f)(),b=Object(Ot.b)(),p=Object(Ot.c)((function(n){return n.posts.addPostResponse})),f=Object(Ot.c)((function(n){return n.posts.isAddingPost})),x=Wr(f);return Object(o.useEffect)((function(){!f&&x&&j.push("/BlogAppRedux/posts/".concat(p.id))}),[b,j,p,f,x]),Object(r.jsx)(go,{children:Object(r.jsxs)(Oo,{onSubmit:function(n){n.preventDefault(),b(Cr({title:t,body:l}))},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"\u6587\u7ae0\u6a19\u984c\uff1a"}),Object(r.jsx)(vo,{value:t,onChange:function(n){c(n.target.value)},onFocus:function(){vr(null)}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"\u6587\u7ae0\u5167\u5bb9\uff1a"}),Object(r.jsx)(mo,{rows:6,value:l,onChange:function(n){d(n.target.value)},onFocus:function(){vr(null)}})]}),Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u9001\u51fa"})}),p&&0===p.ok&&Object(r.jsx)(yo,{children:p.message})]})})}function ko(){var n=Object(l.a)(["\n  margin: 16px auto;\n  border: 1px solid black;\n  padding: 16px;\n  border-radius: 8px;\n"]);return ko=function(){return n},n}function Co(){var n=Object(l.a)(["\n  font-size: 48px;\n  font-weight: bold;\n  margin-bottom: 16px;\n"]);return Co=function(){return n},n}function Do(){var n=Object(l.a)(["\n  padding: 16px;\n"]);return Do=function(){return n},n}function So(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 10px;\n"]);return So=function(){return n},n}var Ao=d.a.div(So()),Po=d.a.div(Do()),No=d.a.div(Co()),Bo=d.a.div(ko());function To(){return Object(r.jsx)(Ao,{children:Object(r.jsxs)(Po,{children:[Object(r.jsx)(No,{children:"\u95dc\u65bc\u6211"}),Object(r.jsx)(Bo,{children:"\u6f22\u7687\u91cd\u8272\u601d\u50be\u570b\uff0c\u5fa1\u5b87\u591a\u5e74\u6c42\u4e0d\u5f97\u3002 \u694a\u5bb6\u6709\u5973\u521d\u9577\u6210\uff0c\u990a\u5728\u6df1\u95a8\u4eba\u672a\u8b58\u3002 \u5929\u751f\u9e97\u8cea\u96e3\u81ea\u68c4\uff0c\u4e00\u671d\u9078\u5728\u541b\u738b\u5074\u3002 \u56de\u7738\u4e00\u7b11\u767e\u5a9a\u751f\uff0c\u516d\u5bae\u7c89\u9edb\u7121\u984f\u8272\u3002 \u6625\u5bd2\u8cdc\u6d74\u83ef\u6e05\u6c60\uff0c\u6eab\u6cc9\u6c34\u6ed1\u6d17\u51dd\u8102\u3002 \u4f8d\u5152\u6276\u8d77\u5b0c\u7121\u529b\uff0c\u59cb\u662f\u65b0\u627f\u6069\u6fa4\u6642\u3002 \u96f2\u9b22\u82b1\u984f\u91d1\u6b65\u6416\uff0c\u8299\u84c9\u5e33\u6696\u5ea6\u6625\u5bb5\u3002 \u6625\u5bb5\u82e6\u77ed\u65e5\u9ad8\u8d77\uff0c\u5f9e\u6b64\u541b\u738b\u4e0d\u65e9\u671d\u3002 \u627f\u6b61\u4f8d\u5bb4\u7121\u9592\u6687\uff0c\u6625\u5f9e\u6625\u904a\u591c\u5c08\u591c\u3002 \u5f8c\u5bae\u4f73\u9e97\u4e09\u5343\u4eba\uff0c\u4e09\u5343\u5bf5\u611b\u5728\u4e00\u8eab\u3002 \u91d1\u5c4b\u599d\u6210\u5b0c\u4f8d\u591c\uff0c\u7389\u6a13\u5bb4\u7f77\u9189\u548c\u6625\u3002 \u59ca\u59b9\u5f1f\u5144\u7686\u5217\u571f\uff0c\u53ef\u6190\u5149\u5f69\u751f\u9580\u6236\u3002 \u9042\u4ee4\u5929\u4e0b\u7236\u6bcd\u5fc3\uff0c\u4e0d\u91cd\u751f\u7537\u91cd\u751f\u5973\u3002 \u9a6a\u5bae\u9ad8\u8655\u5165\u9752\u96f2\uff0c\u4ed9\u6a02\u98a8\u98c4\u8655\u8655\u805e\u3002 \u7de9\u6b4c\u6162\u821e\u51dd\u7d72\u7af9\uff0c\u76e1\u65e5\u541b\u738b\u770b\u4e0d\u8db3\u3002 \u6f01\u967d\u9f19\u9f13\u52d5\u5730\u4f86\uff0c\u9a5a\u7834\u9713\u88f3\u7fbd\u8863\u66f2\u3002 \u4e5d\u91cd\u57ce\u95d5\u7159\u5875\u751f\uff0c\u5343\u4e58\u842c\u9a0e\u897f\u5357\u884c\u3002 \u7fe0\u83ef\u6416\u6416\u884c\u5fa9\u6b62\uff0c\u897f\u51fa\u90fd\u9580\u767e\u9918\u91cc\u3002 \u516d\u8ecd\u4e0d\u767c\u7121\u5948\u4f55\uff0c\u5b9b\u8f49\u86fe\u7709\u99ac\u524d\u6b7b\u3002 \u82b1\u923f\u59d4\u5730\u7121\u4eba\u6536\uff0c\u7fe0\u7ff9\u91d1\u96c0\u7389\u6414\u982d\u3002 \u541b\u738b\u63a9\u9762\u6551\u4e0d\u5f97\uff0c\u56de\u770b\u8840\u6dda\u76f8\u548c\u6d41\u3002 \u9ec3\u57c3\u6563\u6f2b\u98a8\u856d\u7d22\uff0c\u96f2\u68e7\u7e08\u7d06\u767b\u528d\u95a3\u3002 \u5ce8\u5d4b\u5c71\u4e0b\u5c11\u4eba\u884c\uff0c\u65cc\u65d7\u7121\u5149\u65e5\u8272\u8584\u3002 \u8700\u6c5f\u6c34\u78a7\u8700\u5c71\u9752\uff0c\u8056\u4e3b\u671d\u671d\u66ae\u66ae\u60c5\u3002 \u884c\u5bae\u898b\u6708\u50b7\u5fc3\u8272\uff0c\u591c\u96e8\u805e\u9234\u8178\u65b7\u8072\u3002 \u5929\u65cb\u65e5\u8f49\u8ff4\u9f8d\u99ad\uff0c\u5230\u6b64\u8e8a\u8e87\u4e0d\u80fd\u53bb\u3002 \u99ac\u5d6c\u5761\u4e0b\u6ce5\u571f\u4e2d\uff0c\u4e0d\u898b\u7389\u984f\u7a7a\u6b7b\u8655\u3002 \u541b\u81e3\u76f8\u9867\u76e1\u6cbe\u8863\uff0c\u6771\u671b\u90fd\u9580\u4fe1\u99ac\u6b78\u3002 \u6b78\u4f86\u6c60\u82d1\u7686\u4f9d\u820a\uff0c\u592a\u6db2\u8299\u84c9\u672a\u592e\u67f3\u3002 \u8299\u84c9\u5982\u9762\u67f3\u5982\u7709\uff0c\u5c0d\u6b64\u5982\u4f55\u4e0d\u6dda\u5782\u3002 \u6625\u98a8\u6843\u674e\u82b1\u958b\u65e5\uff0c\u79cb\u96e8\u68a7\u6850\u8449\u843d\u6642\u3002 \u897f\u5bae\u5357\u5167\u591a\u79cb\u8349\uff0c\u843d\u8449\u6eff\u968e\u7d05\u4e0d\u6383\u3002 \u68a8\u5712\u5b50\u5f1f\u767d\u9aee\u65b0\uff0c\u6912\u623f\u963f\u76e3\u9752\u5a25\u8001\u3002 \u5915\u6bbf\u87a2\u98db\u601d\u6084\u7136\uff0c\u5b64\u71c8\u6311\u76e1\u672a\u6210\u7720\u3002 \u9072\u9072\u9418\u9f13\u521d\u9577\u591c\uff0c\u803f\u803f\u661f\u6cb3\u6b32\u66d9\u5929\u3002 \u9d1b\u9d26\u74e6\u51b7\u971c\u83ef\u91cd\uff0c\u7fe1\u7fe0\u887e\u5bd2\u8ab0\u8207\u5171\u3002 \u60a0\u60a0\u751f\u6b7b\u5225\u7d93\u5e74\uff0c\u9b42\u9b44\u4e0d\u66fe\u4f86\u5165\u5922\u3002 \u81e8\u909b\u9053\u58eb\u9d3b\u90fd\u5ba2\uff0c\u80fd\u4ee5\u7cbe\u8aa0\u81f4\u9b42\u9b44\u3002 \u70ba\u611f\u541b\u738b\u8f3e\u8f49\u601d\uff0c\u9042\u6559\u65b9\u58eb\u6bb7\u52e4\u8993\u3002 \u6392\u7a7a\u99ad\u6c23\u5954\u5982\u96fb\uff0c\u5347\u5929\u5165\u5730\u6c42\u4e4b\u904d\u3002 \u4e0a\u7aae\u78a7\u843d\u4e0b\u9ec3\u6cc9\uff0c\u5169\u8655\u832b\u832b\u7686\u4e0d\u898b\u3002 \u5ffd\u805e\u6d77\u4e0a\u6709\u4ed9\u5c71\uff0c\u5c71\u5728\u865b\u7121\u7e39\u7df2\u9593\u3002 \u6a13\u95a3\u73b2\u74cf\u4e94\u96f2\u8d77\uff0c\u5176\u4e2d\u7dbd\u7d04\u591a\u4ed9\u5b50\u3002 \u4e2d\u6709\u4e00\u4eba\u5b57\u592a\u771f\uff0c\u96ea\u819a\u82b1\u8c8c\u53c3\u5dee\u662f\u3002 \u91d1\u95d5\u897f\u5ec2\u53e9\u7389\u6243\uff0c\u8f49\u6559\u5c0f\u7389\u5831\u96d9\u6210\u3002 \u805e\u9053\u6f22\u5bb6\u5929\u5b50\u4f7f\uff0c\u4e5d\u83ef\u5e33\u88cf\u5922\u9b42\u9a5a\u3002 \u652c\u8863\u63a8\u6795\u8d77\u5f98\u5f8a\uff0c\u73e0\u7b94\u9280\u5c4f\u8fe4\u9090\u958b\u3002 \u96f2\u9afb\u534a\u504f\u65b0\u7761\u89ba\uff0c\u82b1\u51a0\u4e0d\u6574\u4e0b\u5802\u4f86\u3002 \u98a8\u5439\u4ed9\u8882\u98c4\u98bb\u8209\uff0c\u7336\u4f3c\u9713\u88f3\u7fbd\u8863\u821e\u3002 \u7389\u5bb9\u5bc2\u5bde\u6dda\u95cc\u5e72\uff0c\u68a8\u82b1\u4e00\u679d\u6625\u5e36\u96e8\u3002 \u542b\u60c5\u51dd\u7747\u8b1d\u541b\u738b\uff0c\u4e00\u5225\u97f3\u5bb9\u5169\u6e3a\u832b\u3002 \u662d\u967d\u6bbf\u88cf\u6069\u611b\u7d55\uff0c\u84ec\u840a\u5bae\u4e2d\u65e5\u6708\u9577\u3002 \u56de\u982d\u4e0b\u671b\u4eba\u5bf0\u8655\uff0c\u4e0d\u898b\u9577\u5b89\u898b\u5875\u9727\u3002 \u552f\u5c07\u820a\u7269\u8868\u6df1\u60c5\uff0c\u923f\u5408\u91d1\u91f5\u5bc4\u5c07\u53bb\u3002 \u91f5\u7559\u4e00\u80a1\u5408\u4e00\u6247\uff0c\u91f5\u64d8\u9ec3\u91d1\u5408\u5206\u923f\u3002 \u4f46\u6559\u5fc3\u4f3c\u91d1\u923f\u5805\uff0c\u5929\u4e0a\u4eba\u9593\u6703\u76f8\u898b\u3002 \u81e8\u5225\u6bb7\u52e4\u91cd\u5bc4\u8a5e\uff0c\u8a5e\u4e2d\u6709\u8a93\u5169\u5fc3\u77e5\u3002 \u4e03\u6708\u4e03\u65e5\u9577\u751f\u6bbf\uff0c\u591c\u534a\u7121\u4eba\u79c1\u8a9e\u6642\u3002 \u5728\u5929\u9858\u4f5c\u6bd4\u7ffc\u9ce5\uff0c\u5728\u5730\u9858\u70ba\u9023\u7406\u679d\u3002 \u5929\u9577\u5730\u4e45\u6709\u6642\u76e1\uff0c\u6b64\u6068\u7dbf\u7dbf\u7121\u7d55\u671f\u3002"})]})})}var Ro=function(n){for(var e=n.postsCount,t=n.currentPage,o=Math.ceil(e/5),c=[],a=1;a<=o;a+=1)c.push(Object(r.jsx)(gn.a.Item,{active:a===Number(t),href:"#/BlogAppRedux/pagination/".concat(a),children:a},a));return Object(r.jsx)(gn.a,{className:"d-flex justify-content-center",size:"lg",children:c})},Io=Object(o.memo)(Ro);function _o(){var n=Object(s.h)().page,e=Object(Ot.b)(),t=Object(Ot.c)((function(n){return n.posts.isGettingPost})),c=Object(Ot.c)((function(n){return n.posts.byPagePostData})),a=Object(Ot.c)((function(n){return n.posts.totalPostsCount}));return Object(o.useEffect)((function(){return e(kr("byPage",n)),function(){e(hr(null))}}),[e,n]),Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(Mr,{}),!t&&c&&c.length>0&&Object(r.jsxs)(Nr,{children:[c.map((function(n){return Object(r.jsx)(Ur,{post:n},n.id)})),Object(r.jsx)(Io,{postsCount:a,currentPage:n})]})]})}var zo=Object(o.memo)(_o);function Eo(){var n=Object(l.a)(["\n  color: red;\n  font-weight: bold;\n  font-size: 36px;\n  text-align: center;\n  margin-top: 1rem;\n"]);return Eo=function(){return n},n}function Uo(){var n=Object(l.a)(["\n  text-align: center;\n  font-size: 36px;\n  font-weight: bold;\n  color: red;\n"]);return Uo=function(){return n},n}function Fo(){var n=Object(l.a)(["\n  padding: 8px;\n  font-size: 16px;\n  margin: 10px auto;\n  border: 1px solid black;\n  border-radius: 8px;\n  width: 100%;\n  resize: none;\n"]);return Fo=function(){return n},n}function Lo(){var n=Object(l.a)(["\n  padding: 8px;\n  font-size: 24px;\n  font-weight: bold;\n  margin: 10px auto;\n  border: 1px solid black;\n  border-radius: 8px;\n  width: 50%;\n"]);return Lo=function(){return n},n}function Go(){var n=Object(l.a)([""]);return Go=function(){return n},n}function Mo(){var n=Object(l.a)(["\n  background: white;\n  opacity: 0.8;\n  width: 80%;\n  border-radius: 10px;\n  margin: 20px auto;\n  padding: 20px;\n"]);return Mo=function(){return n},n}var $o=d.a.div(Mo()),Jo=d.a.form(Go()),Vo=d.a.input(Lo()),Ho=d.a.textarea(Fo()),Ko=d.a.div(Uo()),Xo=d.a.div(Eo());function Yo(){var n=Object(s.h)().id,e=Object(Ot.b)(),t=Object(Ot.c)((function(n){return n.posts.isGettingPost})),c=Object(Ot.c)((function(n){return n.posts.singlePostData})),a=Object(Ot.c)((function(n){return n.posts.updatePostResponse}));console.log("updatePostResponse",a);var i=Object(Ot.c)((function(n){return n.posts.isUpdatingPost})),l=Wr(i),d=Object(o.useState)(""),j=Object(u.a)(d,2),b=j[0],p=j[1],f=Object(o.useState)(""),x=Object(u.a)(f,2),h=x[0],g=x[1],O=Object(s.f)();return Object(o.useLayoutEffect)((function(){return e(kr("single",n)),function(){console.log("useLayoutEffect clean up singlePostData"),e(fr(null))}}),[e,n]),Object(o.useEffect)((function(){c&&c.length>0&&(p(c[0].title),g(c[0].body))}),[c]),Object(o.useEffect)((function(){a&&a.id&&!i&&l&&O.push("/BlogAppRedux/posts/".concat(a.id))}),[e,O,a,i,l]),Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)(Mr,{}),!t&&c&&Object(r.jsxs)($o,{children:[c&&0===c.length&&Object(r.jsx)(Ko,{children:"\u7de8\u8f2f\u7684\u6587\u7ae0\u4e0d\u5b58\u5728"}),c&&c.length>0&&Object(r.jsxs)(Jo,{onSubmit:function(t){t.preventDefault(),e(Sr(n,{title:b,body:h}))},children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"\u6587\u7ae0\u6a19\u984c\uff1a"}),Object(r.jsx)(Vo,{value:b,onChange:function(n){p(n.target.value)},onFocus:function(){wr(null)}})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"\u6587\u7ae0\u5167\u5bb9\uff1a"}),Object(r.jsx)(Ho,{rows:6,value:h,onChange:function(n){g(n.target.value)},onFocus:function(){wr(null)}})]}),Object(r.jsxs)("div",{className:"d-flex justify-content-center",children:[i&&Object(r.jsx)(Zt.c,{}),!i&&Object(r.jsx)($.a,{variant:"primary",size:"lg",className:"",type:"submit",children:"\u66f4\u65b0"})]}),a&&0===a.ok&&Object(r.jsxs)(Xo,{children:["\u7de8\u8f2f\u6587\u7ae0\u5931\u6557\uff1a"," ",a.message]})]})]})]})}var Zo=function(){var n=Object(Ot.b)();return Object(o.useEffect)((function(){console.log("useEffect in first render"),n((function(n){if(!Rt())return n(Gt(null)),void n(Jt(!1));n(Jt(!0)),_t().then((function(e){if(1!==e.ok)return Tt(""),n(Gt(null)),n(Vt(e.message)),void n(Jt(!1));n(Gt(e.data)),n(Jt(!1))})).catch((function(e){console.log("err: ",e),n(Jt(!1))}))}))}),[n]),Object(r.jsxs)(i.a,{children:[Object(r.jsx)(dr,{children:"header"}),Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{exact:!0,path:"/",children:Object(r.jsx)(Jr,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux",children:Object(r.jsx)(Jr,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/about",children:Object(r.jsx)(To,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/login",children:Object(r.jsx)(Kr,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/register",children:Object(r.jsx)(Zr,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/pagination/:page",children:Object(r.jsx)(zo,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/posts/:id",children:Object(r.jsx)(jo,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/new-post",children:Object(r.jsx)(wo,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/BlogAppRedux/update-post/:id",children:Object(r.jsx)(Yo,{})})]})]})},qo=Object(Nt.a)({reducer:{user:Xt,posts:Ar,error:Ut}});a.a.render(Object(r.jsx)(Ot.a,{store:qo,children:Object(r.jsx)(i.a,{children:Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{exact:!0,path:"/BoardApp",children:Object(r.jsx)(F,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/TodosApp",children:Object(r.jsx)(sn,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/GobangApp",children:Object(r.jsx)(yn,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/FormApp",children:Object(r.jsx)(Dn,{})}),Object(r.jsx)(s.a,{path:"/BlogApp",children:Object(r.jsx)(it,{})}),Object(r.jsx)(s.a,{exact:!0,path:"/TodosRedux",children:Object(r.jsx)(Pt,{})}),Object(r.jsx)(s.a,{path:"/BlogAppRedux",children:Object(r.jsx)(Zo,{})})]})})}),document.getElementById("root"))},76:function(n,e,t){},80:function(n,e,t){},81:function(n,e,t){},82:function(n,e,t){},84:function(n,e,t){},86:function(n,e,t){}},[[122,1,2]]]);
//# sourceMappingURL=main.69df0a8a.chunk.js.map